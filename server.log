2025-03-30 19:41:25 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 41, 25, 643907) game_id='500f36f6-790e-48af-b444-092b26ff2b9e' target_players=['5fb19287-db75-4bc2-b9b2-308b743479dc']
2025-03-30 19:41:25 - venv - INFO - broadcaster - broadcast_notification: Sending to player 5fb19287-db75-4bc2-b9b2-308b743479dc
2025-03-30 19:41:25 - venv - INFO - WebSocketManager - send_to_player: 500f36f6-790e-48af-b444-092b26ff2b9e, 5fb19287-db75-4bc2-b9b2-308b743479dc, {"type":"game_started","data":{},"timestamp":"2025-03-30T23:41:25.643907","game_id":"500f36f6-790e-48af-b444-092b26ff2b9e","target_players":["5fb19287-db75-4bc2-b9b2-308b743479dc"]}
2025-03-30 19:41:25 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:41:25 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61840), 'root_path': '', 'path': '/api/v1/games/500f36f6-790e-48af-b444-092b26ff2b9e/ws', 'raw_path': b'/api/v1/games/500f36f6-790e-48af-b444-092b26ff2b9e/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'XcjaWJvn9mjNMLu3zCGgtQ=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x100d691f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x101843430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10273c8b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x10242ea60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x102436820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1024ec460>, 'endpoint': <function websocket_endpoint at 0x102544e50>, 'path_params': {'game_id': '500f36f6-790e-48af-b444-092b26ff2b9e'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x10275ffd0>}
2025-03-30 19:41:25 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61841), 'root_path': '', 'path': '/api/v1/games/500f36f6-790e-48af-b444-092b26ff2b9e/ws', 'raw_path': b'/api/v1/games/500f36f6-790e-48af-b444-092b26ff2b9e/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'kx9/W4sPqgW5czk8BOc2ZQ=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x100d691f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x101843430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10273c8b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x10242ea60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x102436820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1024ec460>, 'endpoint': <function websocket_endpoint at 0x102544e50>, 'path_params': {'game_id': '500f36f6-790e-48af-b444-092b26ff2b9e'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x1027881f0>}
2025-03-30 19:41:25 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 41, 25, 645596) game_id='500f36f6-790e-48af-b444-092b26ff2b9e' target_players=['ca673dce-8f0d-4b6b-83d4-fa35df5713bf']
2025-03-30 19:41:25 - venv - INFO - broadcaster - broadcast_notification: Sending to player ca673dce-8f0d-4b6b-83d4-fa35df5713bf
2025-03-30 19:41:25 - venv - INFO - WebSocketManager - send_to_player: 500f36f6-790e-48af-b444-092b26ff2b9e, ca673dce-8f0d-4b6b-83d4-fa35df5713bf, {"type":"game_started_initial","data":{},"timestamp":"2025-03-30T23:41:25.645596","game_id":"500f36f6-790e-48af-b444-092b26ff2b9e","target_players":["ca673dce-8f0d-4b6b-83d4-fa35df5713bf"]}
2025-03-30 19:41:25 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:41:25 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61840), 'root_path': '', 'path': '/api/v1/games/500f36f6-790e-48af-b444-092b26ff2b9e/ws', 'raw_path': b'/api/v1/games/500f36f6-790e-48af-b444-092b26ff2b9e/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'XcjaWJvn9mjNMLu3zCGgtQ=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x100d691f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x101843430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10273c8b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x10242ea60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x102436820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1024ec460>, 'endpoint': <function websocket_endpoint at 0x102544e50>, 'path_params': {'game_id': '500f36f6-790e-48af-b444-092b26ff2b9e'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x10275ffd0>}
2025-03-30 19:41:25 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61841), 'root_path': '', 'path': '/api/v1/games/500f36f6-790e-48af-b444-092b26ff2b9e/ws', 'raw_path': b'/api/v1/games/500f36f6-790e-48af-b444-092b26ff2b9e/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'kx9/W4sPqgW5czk8BOc2ZQ=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x100d691f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x101843430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10273c8b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x10242ea60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x102436820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1024ec460>, 'endpoint': <function websocket_endpoint at 0x102544e50>, 'path_params': {'game_id': '500f36f6-790e-48af-b444-092b26ff2b9e'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x1027881f0>}
2025-03-30 19:41:56 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 41, 56, 87268) game_id='c65a88b0-5a9a-4209-b873-4933d56e3a4b' target_players=['0412a7ea-174a-4383-8d28-496f5ea36cd7']
2025-03-30 19:41:56 - venv - INFO - broadcaster - broadcast_notification: Sending to player 0412a7ea-174a-4383-8d28-496f5ea36cd7
2025-03-30 19:41:56 - venv - INFO - WebSocketManager - send_to_player: c65a88b0-5a9a-4209-b873-4933d56e3a4b, 0412a7ea-174a-4383-8d28-496f5ea36cd7, {"type":"game_started","data":{},"timestamp":"2025-03-30T23:41:56.087268","game_id":"c65a88b0-5a9a-4209-b873-4933d56e3a4b","target_players":["0412a7ea-174a-4383-8d28-496f5ea36cd7"]}
2025-03-30 19:41:56 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:41:56 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61854), 'root_path': '', 'path': '/api/v1/games/c65a88b0-5a9a-4209-b873-4933d56e3a4b/ws', 'raw_path': b'/api/v1/games/c65a88b0-5a9a-4209-b873-4933d56e3a4b/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'cSjgh5dsgeWusNtIwzsg9w=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x10295d1f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103437430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1043308b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104022a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104029820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1040e1460>, 'endpoint': <function websocket_endpoint at 0x104139e50>, 'path_params': {'game_id': 'c65a88b0-5a9a-4209-b873-4933d56e3a4b'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x104351fd0>}
2025-03-30 19:41:56 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61855), 'root_path': '', 'path': '/api/v1/games/c65a88b0-5a9a-4209-b873-4933d56e3a4b/ws', 'raw_path': b'/api/v1/games/c65a88b0-5a9a-4209-b873-4933d56e3a4b/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'r0kTQFFc6nWy19wq5P19SQ=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x10295d1f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103437430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1043308b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104022a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104029820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1040e1460>, 'endpoint': <function websocket_endpoint at 0x104139e50>, 'path_params': {'game_id': 'c65a88b0-5a9a-4209-b873-4933d56e3a4b'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x10437c1f0>}
2025-03-30 19:41:56 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 41, 56, 90876) game_id='c65a88b0-5a9a-4209-b873-4933d56e3a4b' target_players=['cbab1596-ad36-4e9a-9da9-b4746e4a13e0']
2025-03-30 19:41:56 - venv - INFO - broadcaster - broadcast_notification: Sending to player cbab1596-ad36-4e9a-9da9-b4746e4a13e0
2025-03-30 19:41:56 - venv - INFO - WebSocketManager - send_to_player: c65a88b0-5a9a-4209-b873-4933d56e3a4b, cbab1596-ad36-4e9a-9da9-b4746e4a13e0, {"type":"game_started_initial","data":{},"timestamp":"2025-03-30T23:41:56.090876","game_id":"c65a88b0-5a9a-4209-b873-4933d56e3a4b","target_players":["cbab1596-ad36-4e9a-9da9-b4746e4a13e0"]}
2025-03-30 19:41:56 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:41:56 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61854), 'root_path': '', 'path': '/api/v1/games/c65a88b0-5a9a-4209-b873-4933d56e3a4b/ws', 'raw_path': b'/api/v1/games/c65a88b0-5a9a-4209-b873-4933d56e3a4b/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'cSjgh5dsgeWusNtIwzsg9w=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x10295d1f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103437430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1043308b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104022a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104029820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1040e1460>, 'endpoint': <function websocket_endpoint at 0x104139e50>, 'path_params': {'game_id': 'c65a88b0-5a9a-4209-b873-4933d56e3a4b'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x104351fd0>}
2025-03-30 19:41:56 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61855), 'root_path': '', 'path': '/api/v1/games/c65a88b0-5a9a-4209-b873-4933d56e3a4b/ws', 'raw_path': b'/api/v1/games/c65a88b0-5a9a-4209-b873-4933d56e3a4b/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'r0kTQFFc6nWy19wq5P19SQ=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x10295d1f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103437430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1043308b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104022a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104029820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1040e1460>, 'endpoint': <function websocket_endpoint at 0x104139e50>, 'path_params': {'game_id': 'c65a88b0-5a9a-4209-b873-4933d56e3a4b'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x10437c1f0>}
2025-03-30 19:42:17 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 42, 17, 450054) game_id='760cca81-4455-46c0-8486-4c0b45f9ae84' target_players=['8f2cf626-9fbc-4226-bd37-f6f987cafb79']
2025-03-30 19:42:17 - venv - INFO - broadcaster - broadcast_notification: Sending to player 8f2cf626-9fbc-4226-bd37-f6f987cafb79
2025-03-30 19:42:17 - venv - INFO - WebSocketManager - send_to_player: 760cca81-4455-46c0-8486-4c0b45f9ae84, 8f2cf626-9fbc-4226-bd37-f6f987cafb79, {"type":"game_started","data":{},"timestamp":"2025-03-30T23:42:17.450054","game_id":"760cca81-4455-46c0-8486-4c0b45f9ae84","target_players":["8f2cf626-9fbc-4226-bd37-f6f987cafb79"]}
2025-03-30 19:42:17 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:42:17 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61881), 'root_path': '', 'path': '/api/v1/games/760cca81-4455-46c0-8486-4c0b45f9ae84/ws', 'raw_path': b'/api/v1/games/760cca81-4455-46c0-8486-4c0b45f9ae84/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'GyGRRFixda6T5MuuHxh6KA=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x10295d1f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103437430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1043308b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104022a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104029820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1040e1460>, 'endpoint': <function websocket_endpoint at 0x104139e50>, 'path_params': {'game_id': '760cca81-4455-46c0-8486-4c0b45f9ae84'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x104351160>}
2025-03-30 19:42:17 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61882), 'root_path': '', 'path': '/api/v1/games/760cca81-4455-46c0-8486-4c0b45f9ae84/ws', 'raw_path': b'/api/v1/games/760cca81-4455-46c0-8486-4c0b45f9ae84/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'eXRcr24CQVCXg6+dBvc0mA=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x10295d1f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103437430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1043308b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104022a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104029820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1040e1460>, 'endpoint': <function websocket_endpoint at 0x104139e50>, 'path_params': {'game_id': '760cca81-4455-46c0-8486-4c0b45f9ae84'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x1043921c0>}
2025-03-30 19:42:17 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 42, 17, 451040) game_id='760cca81-4455-46c0-8486-4c0b45f9ae84' target_players=['e896b874-b48c-4bfe-9fb2-dd3139e5bc09']
2025-03-30 19:42:17 - venv - INFO - broadcaster - broadcast_notification: Sending to player e896b874-b48c-4bfe-9fb2-dd3139e5bc09
2025-03-30 19:42:17 - venv - INFO - WebSocketManager - send_to_player: 760cca81-4455-46c0-8486-4c0b45f9ae84, e896b874-b48c-4bfe-9fb2-dd3139e5bc09, {"type":"game_started_initial","data":{},"timestamp":"2025-03-30T23:42:17.451040","game_id":"760cca81-4455-46c0-8486-4c0b45f9ae84","target_players":["e896b874-b48c-4bfe-9fb2-dd3139e5bc09"]}
2025-03-30 19:42:17 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:42:17 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61881), 'root_path': '', 'path': '/api/v1/games/760cca81-4455-46c0-8486-4c0b45f9ae84/ws', 'raw_path': b'/api/v1/games/760cca81-4455-46c0-8486-4c0b45f9ae84/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'GyGRRFixda6T5MuuHxh6KA=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x10295d1f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103437430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1043308b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104022a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104029820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1040e1460>, 'endpoint': <function websocket_endpoint at 0x104139e50>, 'path_params': {'game_id': '760cca81-4455-46c0-8486-4c0b45f9ae84'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x104351160>}
2025-03-30 19:42:17 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61882), 'root_path': '', 'path': '/api/v1/games/760cca81-4455-46c0-8486-4c0b45f9ae84/ws', 'raw_path': b'/api/v1/games/760cca81-4455-46c0-8486-4c0b45f9ae84/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'eXRcr24CQVCXg6+dBvc0mA=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x10295d1f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103437430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1043308b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104022a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104029820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1040e1460>, 'endpoint': <function websocket_endpoint at 0x104139e50>, 'path_params': {'game_id': '760cca81-4455-46c0-8486-4c0b45f9ae84'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x1043921c0>}
2025-03-30 19:42:46 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 42, 46, 937305) game_id='27864076-5ec1-4e04-b127-127346d7fa38' target_players=['8f7cec00-e236-43af-82da-2620563f3dd9']
2025-03-30 19:42:46 - venv - INFO - broadcaster - broadcast_notification: Sending to player 8f7cec00-e236-43af-82da-2620563f3dd9
2025-03-30 19:42:46 - venv - INFO - WebSocketManager - send_to_player: 27864076-5ec1-4e04-b127-127346d7fa38, 8f7cec00-e236-43af-82da-2620563f3dd9, {"type":"game_started","data":{},"timestamp":"2025-03-30T23:42:46.937305","game_id":"27864076-5ec1-4e04-b127-127346d7fa38","target_players":["8f7cec00-e236-43af-82da-2620563f3dd9"]}
2025-03-30 19:42:46 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:42:46 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61889), 'root_path': '', 'path': '/api/v1/games/27864076-5ec1-4e04-b127-127346d7fa38/ws', 'raw_path': b'/api/v1/games/27864076-5ec1-4e04-b127-127346d7fa38/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'tEyW65qn9lBBYG0+/PSoVA=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x10295d1f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103437430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1043308b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104022a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104029820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1040e1460>, 'endpoint': <function websocket_endpoint at 0x104139e50>, 'path_params': {'game_id': '27864076-5ec1-4e04-b127-127346d7fa38'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x10437c0a0>}
2025-03-30 19:42:46 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61890), 'root_path': '', 'path': '/api/v1/games/27864076-5ec1-4e04-b127-127346d7fa38/ws', 'raw_path': b'/api/v1/games/27864076-5ec1-4e04-b127-127346d7fa38/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'I76WjrXp+unTZfbF76WzIA=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x10295d1f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103437430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1043308b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104022a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104029820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1040e1460>, 'endpoint': <function websocket_endpoint at 0x104139e50>, 'path_params': {'game_id': '27864076-5ec1-4e04-b127-127346d7fa38'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x104392eb0>}
2025-03-30 19:42:46 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 42, 46, 939068) game_id='27864076-5ec1-4e04-b127-127346d7fa38' target_players=['010616cf-479d-478b-9e19-411d30942e31']
2025-03-30 19:42:46 - venv - INFO - broadcaster - broadcast_notification: Sending to player 010616cf-479d-478b-9e19-411d30942e31
2025-03-30 19:42:46 - venv - INFO - WebSocketManager - send_to_player: 27864076-5ec1-4e04-b127-127346d7fa38, 010616cf-479d-478b-9e19-411d30942e31, {"type":"game_started_initial","data":{},"timestamp":"2025-03-30T23:42:46.939068","game_id":"27864076-5ec1-4e04-b127-127346d7fa38","target_players":["010616cf-479d-478b-9e19-411d30942e31"]}
2025-03-30 19:42:46 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:42:46 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61889), 'root_path': '', 'path': '/api/v1/games/27864076-5ec1-4e04-b127-127346d7fa38/ws', 'raw_path': b'/api/v1/games/27864076-5ec1-4e04-b127-127346d7fa38/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'tEyW65qn9lBBYG0+/PSoVA=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x10295d1f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103437430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1043308b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104022a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104029820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1040e1460>, 'endpoint': <function websocket_endpoint at 0x104139e50>, 'path_params': {'game_id': '27864076-5ec1-4e04-b127-127346d7fa38'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x10437c0a0>}
2025-03-30 19:42:46 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 61890), 'root_path': '', 'path': '/api/v1/games/27864076-5ec1-4e04-b127-127346d7fa38/ws', 'raw_path': b'/api/v1/games/27864076-5ec1-4e04-b127-127346d7fa38/ws', 'query_string': b'', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'I76WjrXp+unTZfbF76WzIA=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x10295d1f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103437430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1043308b0>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104022a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104029820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1040e1460>, 'endpoint': <function websocket_endpoint at 0x104139e50>, 'path_params': {'game_id': '27864076-5ec1-4e04-b127-127346d7fa38'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x104392eb0>}
2025-03-30 19:46:36 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 46, 36, 732332) game_id='0987c835-1482-4b6a-b401-2e2c3e386ce3' target_players=['532660ff-27cb-412d-967f-7deb1191228f']
2025-03-30 19:46:36 - venv - INFO - broadcaster - broadcast_notification: Sending to player 532660ff-27cb-412d-967f-7deb1191228f
2025-03-30 19:46:36 - venv - INFO - WebSocketManager - send_to_player: 0987c835-1482-4b6a-b401-2e2c3e386ce3, 532660ff-27cb-412d-967f-7deb1191228f, {"type":"game_started","data":{},"timestamp":"2025-03-30T23:46:36.732332","game_id":"0987c835-1482-4b6a-b401-2e2c3e386ce3","target_players":["532660ff-27cb-412d-967f-7deb1191228f"]}
2025-03-30 19:46:36 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:46:36 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 62024), 'root_path': '', 'path': '/api/v1/games/0987c835-1482-4b6a-b401-2e2c3e386ce3/ws', 'raw_path': b'/api/v1/games/0987c835-1482-4b6a-b401-2e2c3e386ce3/ws', 'query_string': b'player_id=801d4710-acd1-4840-999c-b799baf52c8f', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'BqSGf/U5v1BlqR42JdhMUg=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x100c711f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x10174a430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x102643820>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x102337a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x10233e820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1023f5460>, 'endpoint': <function websocket_endpoint at 0x10244dee0>, 'path_params': {'game_id': '0987c835-1482-4b6a-b401-2e2c3e386ce3'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x10267d220>, 'player_id': '801d4710-acd1-4840-999c-b799baf52c8f'}
2025-03-30 19:46:36 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 62032), 'root_path': '', 'path': '/api/v1/games/0987c835-1482-4b6a-b401-2e2c3e386ce3/ws', 'raw_path': b'/api/v1/games/0987c835-1482-4b6a-b401-2e2c3e386ce3/ws', 'query_string': b'player_id=801d4710-acd1-4840-999c-b799baf52c8f', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'QTaSGc/NDltvHibZD2jfdA=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x100c711f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x10174a430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x102643820>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x102337a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x10233e820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1023f5460>, 'endpoint': <function websocket_endpoint at 0x10244dee0>, 'path_params': {'game_id': '0987c835-1482-4b6a-b401-2e2c3e386ce3'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x102691400>, 'player_id': '801d4710-acd1-4840-999c-b799baf52c8f'}
2025-03-30 19:46:36 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 46, 36, 735370) game_id='0987c835-1482-4b6a-b401-2e2c3e386ce3' target_players=['801d4710-acd1-4840-999c-b799baf52c8f']
2025-03-30 19:46:36 - venv - INFO - broadcaster - broadcast_notification: Sending to player 801d4710-acd1-4840-999c-b799baf52c8f
2025-03-30 19:46:36 - venv - INFO - WebSocketManager - send_to_player: 0987c835-1482-4b6a-b401-2e2c3e386ce3, 801d4710-acd1-4840-999c-b799baf52c8f, {"type":"game_started_initial","data":{},"timestamp":"2025-03-30T23:46:36.735370","game_id":"0987c835-1482-4b6a-b401-2e2c3e386ce3","target_players":["801d4710-acd1-4840-999c-b799baf52c8f"]}
2025-03-30 19:46:36 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:46:36 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 62024), 'root_path': '', 'path': '/api/v1/games/0987c835-1482-4b6a-b401-2e2c3e386ce3/ws', 'raw_path': b'/api/v1/games/0987c835-1482-4b6a-b401-2e2c3e386ce3/ws', 'query_string': b'player_id=801d4710-acd1-4840-999c-b799baf52c8f', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'BqSGf/U5v1BlqR42JdhMUg=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x100c711f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x10174a430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x102643820>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x102337a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x10233e820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1023f5460>, 'endpoint': <function websocket_endpoint at 0x10244dee0>, 'path_params': {'game_id': '0987c835-1482-4b6a-b401-2e2c3e386ce3'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x10267d220>, 'player_id': '801d4710-acd1-4840-999c-b799baf52c8f'}
2025-03-30 19:46:36 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 62032), 'root_path': '', 'path': '/api/v1/games/0987c835-1482-4b6a-b401-2e2c3e386ce3/ws', 'raw_path': b'/api/v1/games/0987c835-1482-4b6a-b401-2e2c3e386ce3/ws', 'query_string': b'player_id=801d4710-acd1-4840-999c-b799baf52c8f', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'QTaSGc/NDltvHibZD2jfdA=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x100c711f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x10174a430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x102643820>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x102337a60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x10233e820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x1023f5460>, 'endpoint': <function websocket_endpoint at 0x10244dee0>, 'path_params': {'game_id': '0987c835-1482-4b6a-b401-2e2c3e386ce3'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x102691400>, 'player_id': '801d4710-acd1-4840-999c-b799baf52c8f'}
2025-03-30 19:47:05 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 47, 5, 354452) game_id='aeeae9ed-b63c-441e-95da-328460d6c8c7' target_players=['5d5529ab-8b35-4460-ac4b-a8156cad9bac']
2025-03-30 19:47:05 - venv - INFO - broadcaster - broadcast_notification: Sending to player 5d5529ab-8b35-4460-ac4b-a8156cad9bac
2025-03-30 19:47:05 - venv - INFO - WebSocketManager - send_to_player: aeeae9ed-b63c-441e-95da-328460d6c8c7, 5d5529ab-8b35-4460-ac4b-a8156cad9bac, {"type":"game_started","data":{},"timestamp":"2025-03-30T23:47:05.354452","game_id":"aeeae9ed-b63c-441e-95da-328460d6c8c7","target_players":["5d5529ab-8b35-4460-ac4b-a8156cad9bac"]}
2025-03-30 19:47:05 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:47:05 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 62071), 'root_path': '', 'path': '/api/v1/games/aeeae9ed-b63c-441e-95da-328460d6c8c7/ws', 'raw_path': b'/api/v1/games/aeeae9ed-b63c-441e-95da-328460d6c8c7/ws', 'query_string': b'player_id=3d1c3df7-1077-4d32-af81-b7a8e04644b2', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'yz4zUN2yeyAL70ZFqvxppg=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x1034d51f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103faf430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104ea7820>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104b9aa60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104ba1820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x104c59460>, 'endpoint': <function websocket_endpoint at 0x104cb1ee0>, 'path_params': {'game_id': 'aeeae9ed-b63c-441e-95da-328460d6c8c7'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x104ee1220>, 'player_id': '3d1c3df7-1077-4d32-af81-b7a8e04644b2'}
2025-03-30 19:47:05 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 62072), 'root_path': '', 'path': '/api/v1/games/aeeae9ed-b63c-441e-95da-328460d6c8c7/ws', 'raw_path': b'/api/v1/games/aeeae9ed-b63c-441e-95da-328460d6c8c7/ws', 'query_string': b'player_id=3d1c3df7-1077-4d32-af81-b7a8e04644b2', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'RNH2aQ4pcyGurYLU1nBfXg=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x1034d51f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103faf430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104ea7820>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104b9aa60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104ba1820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x104c59460>, 'endpoint': <function websocket_endpoint at 0x104cb1ee0>, 'path_params': {'game_id': 'aeeae9ed-b63c-441e-95da-328460d6c8c7'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x104ef5400>, 'player_id': '3d1c3df7-1077-4d32-af81-b7a8e04644b2'}
2025-03-30 19:47:05 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 47, 5, 356100) game_id='aeeae9ed-b63c-441e-95da-328460d6c8c7' target_players=['3d1c3df7-1077-4d32-af81-b7a8e04644b2']
2025-03-30 19:47:05 - venv - INFO - broadcaster - broadcast_notification: Sending to player 3d1c3df7-1077-4d32-af81-b7a8e04644b2
2025-03-30 19:47:05 - venv - INFO - WebSocketManager - send_to_player: aeeae9ed-b63c-441e-95da-328460d6c8c7, 3d1c3df7-1077-4d32-af81-b7a8e04644b2, {"type":"game_started_initial","data":{},"timestamp":"2025-03-30T23:47:05.356100","game_id":"aeeae9ed-b63c-441e-95da-328460d6c8c7","target_players":["3d1c3df7-1077-4d32-af81-b7a8e04644b2"]}
2025-03-30 19:47:05 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:47:05 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 62071), 'root_path': '', 'path': '/api/v1/games/aeeae9ed-b63c-441e-95da-328460d6c8c7/ws', 'raw_path': b'/api/v1/games/aeeae9ed-b63c-441e-95da-328460d6c8c7/ws', 'query_string': b'player_id=3d1c3df7-1077-4d32-af81-b7a8e04644b2', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'yz4zUN2yeyAL70ZFqvxppg=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x1034d51f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103faf430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104ea7820>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104b9aa60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104ba1820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x104c59460>, 'endpoint': <function websocket_endpoint at 0x104cb1ee0>, 'path_params': {'game_id': 'aeeae9ed-b63c-441e-95da-328460d6c8c7'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x104ee1220>, 'player_id': '3d1c3df7-1077-4d32-af81-b7a8e04644b2'}
2025-03-30 19:47:05 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 62072), 'root_path': '', 'path': '/api/v1/games/aeeae9ed-b63c-441e-95da-328460d6c8c7/ws', 'raw_path': b'/api/v1/games/aeeae9ed-b63c-441e-95da-328460d6c8c7/ws', 'query_string': b'player_id=3d1c3df7-1077-4d32-af81-b7a8e04644b2', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'RNH2aQ4pcyGurYLU1nBfXg=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x1034d51f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x103faf430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104ea7820>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x104b9aa60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x104ba1820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x104c59460>, 'endpoint': <function websocket_endpoint at 0x104cb1ee0>, 'path_params': {'game_id': 'aeeae9ed-b63c-441e-95da-328460d6c8c7'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x104ef5400>, 'player_id': '3d1c3df7-1077-4d32-af81-b7a8e04644b2'}
2025-03-30 19:47:29 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 47, 29, 923062) game_id='0557ea34-99e0-4210-8237-30dd6aedf15b' target_players=['c1d2a96b-ba4b-42a9-a02f-2d98d43fcb78']
2025-03-30 19:47:29 - venv - INFO - broadcaster - broadcast_notification: Sending to player c1d2a96b-ba4b-42a9-a02f-2d98d43fcb78
2025-03-30 19:47:29 - venv - INFO - WebSocketManager - send_to_player: 0557ea34-99e0-4210-8237-30dd6aedf15b, c1d2a96b-ba4b-42a9-a02f-2d98d43fcb78, {"type":"game_started","data":{},"timestamp":"2025-03-30T23:47:29.923062","game_id":"0557ea34-99e0-4210-8237-30dd6aedf15b","target_players":["c1d2a96b-ba4b-42a9-a02f-2d98d43fcb78"]}
2025-03-30 19:47:29 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:47:29 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 62104), 'root_path': '', 'path': '/api/v1/games/0557ea34-99e0-4210-8237-30dd6aedf15b/ws', 'raw_path': b'/api/v1/games/0557ea34-99e0-4210-8237-30dd6aedf15b/ws', 'query_string': b'player_id=99b8e723-de1d-40c6-88cb-15ab6182c470', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'xiISlwRQjPZD1dQlBeXN/g=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x100da51f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x10187e430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x102777820>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x10246ba60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x102472820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x102529460>, 'endpoint': <function websocket_endpoint at 0x102581ee0>, 'path_params': {'game_id': '0557ea34-99e0-4210-8237-30dd6aedf15b'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x1027b1220>, 'player_id': '99b8e723-de1d-40c6-88cb-15ab6182c470'}
2025-03-30 19:47:29 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 62107), 'root_path': '', 'path': '/api/v1/games/0557ea34-99e0-4210-8237-30dd6aedf15b/ws', 'raw_path': b'/api/v1/games/0557ea34-99e0-4210-8237-30dd6aedf15b/ws', 'query_string': b'player_id=99b8e723-de1d-40c6-88cb-15ab6182c470', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'7rnRm06xmfd5aZjWDj+yDw=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x100da51f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x10187e430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x102777820>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x10246ba60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x102472820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x102529460>, 'endpoint': <function websocket_endpoint at 0x102581ee0>, 'path_params': {'game_id': '0557ea34-99e0-4210-8237-30dd6aedf15b'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x1027c5400>, 'player_id': '99b8e723-de1d-40c6-88cb-15ab6182c470'}
2025-03-30 19:47:29 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 47, 29, 924532) game_id='0557ea34-99e0-4210-8237-30dd6aedf15b' target_players=['99b8e723-de1d-40c6-88cb-15ab6182c470']
2025-03-30 19:47:29 - venv - INFO - broadcaster - broadcast_notification: Sending to player 99b8e723-de1d-40c6-88cb-15ab6182c470
2025-03-30 19:47:29 - venv - INFO - WebSocketManager - send_to_player: 0557ea34-99e0-4210-8237-30dd6aedf15b, 99b8e723-de1d-40c6-88cb-15ab6182c470, {"type":"game_started_initial","data":{},"timestamp":"2025-03-30T23:47:29.924532","game_id":"0557ea34-99e0-4210-8237-30dd6aedf15b","target_players":["99b8e723-de1d-40c6-88cb-15ab6182c470"]}
2025-03-30 19:47:29 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:47:29 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 62104), 'root_path': '', 'path': '/api/v1/games/0557ea34-99e0-4210-8237-30dd6aedf15b/ws', 'raw_path': b'/api/v1/games/0557ea34-99e0-4210-8237-30dd6aedf15b/ws', 'query_string': b'player_id=99b8e723-de1d-40c6-88cb-15ab6182c470', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'xiISlwRQjPZD1dQlBeXN/g=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x100da51f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x10187e430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x102777820>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x10246ba60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x102472820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x102529460>, 'endpoint': <function websocket_endpoint at 0x102581ee0>, 'path_params': {'game_id': '0557ea34-99e0-4210-8237-30dd6aedf15b'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x1027b1220>, 'player_id': '99b8e723-de1d-40c6-88cb-15ab6182c470'}
2025-03-30 19:47:29 - venv - INFO - WebSocketManager - send_to_player: Checking connection {'type': 'websocket', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'scheme': 'ws', 'server': ('127.0.0.1', 8000), 'client': ('127.0.0.1', 62107), 'root_path': '', 'path': '/api/v1/games/0557ea34-99e0-4210-8237-30dd6aedf15b/ws', 'raw_path': b'/api/v1/games/0557ea34-99e0-4210-8237-30dd6aedf15b/ws', 'query_string': b'player_id=99b8e723-de1d-40c6-88cb-15ab6182c470', 'headers': [(b'host', b'localhost:8000'), (b'upgrade', b'websocket'), (b'connection', b'Upgrade'), (b'sec-websocket-key', b'7rnRm06xmfd5aZjWDj+yDw=='), (b'sec-websocket-version', b'13'), (b'sec-websocket-extensions', b'permessage-deflate; client_max_window_bits'), (b'user-agent', b'Python/3.9 websockets/15.0.1')], 'subprotocols': [], 'state': {}, 'extensions': {'websocket.http.response': {}}, 'app': <fastapi.applications.FastAPI object at 0x100da51f0>, 'starlette.exception_handlers': ({<class 'starlette.exceptions.HTTPException'>: <function http_exception_handler at 0x10187e430>, <class 'starlette.exceptions.WebSocketException'>: <bound method ExceptionMiddleware.websocket_exception of <starlette.middleware.exceptions.ExceptionMiddleware object at 0x102777820>>, <class 'fastapi.exceptions.RequestValidationError'>: <function request_validation_exception_handler at 0x10246ba60>, <class 'fastapi.exceptions.WebSocketRequestValidationError'>: <function websocket_request_validation_exception_handler at 0x102472820>}, {}), 'router': <fastapi.routing.APIRouter object at 0x102529460>, 'endpoint': <function websocket_endpoint at 0x102581ee0>, 'path_params': {'game_id': '0557ea34-99e0-4210-8237-30dd6aedf15b'}, 'route': APIWebSocketRoute(path='/api/v1/games/{game_id}/ws', name='websocket_endpoint'), 'fastapi_astack': <contextlib.AsyncExitStack object at 0x1027c5400>, 'player_id': '99b8e723-de1d-40c6-88cb-15ab6182c470'}
2025-03-30 19:50:16 - venv - INFO - WebSocketManager - connect: Added connection for game 852afcd3-2acf-4ddb-a020-67b9a1287fd5
2025-03-30 19:50:17 - venv - INFO - WebSocketManager - connect: Added connection for game 852afcd3-2acf-4ddb-a020-67b9a1287fd5
2025-03-30 19:50:17 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 50, 17, 40280) game_id='852afcd3-2acf-4ddb-a020-67b9a1287fd5' target_players=['340ebeaa-8846-4a8a-8f5a-3ff5a3b40022']
2025-03-30 19:50:17 - venv - INFO - broadcaster - broadcast_notification: Sending to player 340ebeaa-8846-4a8a-8f5a-3ff5a3b40022
2025-03-30 19:50:17 - venv - INFO - WebSocketManager - send_to_player: 852afcd3-2acf-4ddb-a020-67b9a1287fd5, 340ebeaa-8846-4a8a-8f5a-3ff5a3b40022, {"type":"game_started","data":{},"timestamp":"2025-03-30T23:50:17.040280","game_id":"852afcd3-2acf-4ddb-a020-67b9a1287fd5","target_players":["340ebeaa-8846-4a8a-8f5a-3ff5a3b40022"]}
2025-03-30 19:50:17 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:50:17 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 8f59b4d9-b5b8-4a86-86c3-69c5051de876
2025-03-30 19:50:17 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 8f59b4d9-b5b8-4a86-86c3-69c5051de876
2025-03-30 19:50:17 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player 340ebeaa-8846-4a8a-8f5a-3ff5a3b40022
2025-03-30 19:50:17 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 50, 17, 41250) game_id='852afcd3-2acf-4ddb-a020-67b9a1287fd5' target_players=['8f59b4d9-b5b8-4a86-86c3-69c5051de876']
2025-03-30 19:50:17 - venv - INFO - broadcaster - broadcast_notification: Sending to player 8f59b4d9-b5b8-4a86-86c3-69c5051de876
2025-03-30 19:50:17 - venv - INFO - WebSocketManager - send_to_player: 852afcd3-2acf-4ddb-a020-67b9a1287fd5, 8f59b4d9-b5b8-4a86-86c3-69c5051de876, {"type":"game_started_initial","data":{},"timestamp":"2025-03-30T23:50:17.041250","game_id":"852afcd3-2acf-4ddb-a020-67b9a1287fd5","target_players":["8f59b4d9-b5b8-4a86-86c3-69c5051de876"]}
2025-03-30 19:50:17 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:50:17 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 8f59b4d9-b5b8-4a86-86c3-69c5051de876
2025-03-30 19:50:17 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 8f59b4d9-b5b8-4a86-86c3-69c5051de876
2025-03-30 19:50:17 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 852afcd3-2acf-4ddb-a020-67b9a1287fd5
2025-03-30 19:50:17 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 852afcd3-2acf-4ddb-a020-67b9a1287fd5
2025-03-30 19:50:17 - venv - INFO - WebSocketManager - connect: Added connection for game 852afcd3-2acf-4ddb-a020-67b9a1287fd5
2025-03-30 19:50:22 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 852afcd3-2acf-4ddb-a020-67b9a1287fd5
2025-03-30 19:53:26 - watchfiles.main - INFO - 1 change detected
2025-03-30 19:53:26 - watchfiles.main - INFO - 3 changes detected
2025-03-30 19:54:38 - watchfiles.main - INFO - 1 change detected
2025-03-30 19:55:00 - venv - INFO - WebSocketManager - connect: Added connection for game 09d60735-fbda-4da8-bdb2-1e92dec00c7c
2025-03-30 19:55:01 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 55, 1, 84934) game_id='09d60735-fbda-4da8-bdb2-1e92dec00c7c' target_players=['5a7d01f4-6024-4e2c-a242-c6f4935c41b4']
2025-03-30 19:55:01 - venv - INFO - broadcaster - broadcast_notification: Sending to player 5a7d01f4-6024-4e2c-a242-c6f4935c41b4
2025-03-30 19:55:01 - venv - INFO - WebSocketManager - send_to_player: 09d60735-fbda-4da8-bdb2-1e92dec00c7c, 5a7d01f4-6024-4e2c-a242-c6f4935c41b4, {"type":"game_started","data":{},"timestamp":"2025-03-30T23:55:01.084934","game_id":"09d60735-fbda-4da8-bdb2-1e92dec00c7c","target_players":["5a7d01f4-6024-4e2c-a242-c6f4935c41b4"]}
2025-03-30 19:55:01 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:55:01 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player c4e847e3-e5db-46af-b7ae-936c65dcf52a
2025-03-30 19:55:01 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player 5a7d01f4-6024-4e2c-a242-c6f4935c41b4
2025-03-30 19:55:01 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 55, 1, 86269) game_id='09d60735-fbda-4da8-bdb2-1e92dec00c7c' target_players=['c4e847e3-e5db-46af-b7ae-936c65dcf52a']
2025-03-30 19:55:01 - venv - INFO - broadcaster - broadcast_notification: Sending to player c4e847e3-e5db-46af-b7ae-936c65dcf52a
2025-03-30 19:55:01 - venv - INFO - WebSocketManager - send_to_player: 09d60735-fbda-4da8-bdb2-1e92dec00c7c, c4e847e3-e5db-46af-b7ae-936c65dcf52a, {"type":"game_started_initial","data":{},"timestamp":"2025-03-30T23:55:01.086269","game_id":"09d60735-fbda-4da8-bdb2-1e92dec00c7c","target_players":["c4e847e3-e5db-46af-b7ae-936c65dcf52a"]}
2025-03-30 19:55:01 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:55:01 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player c4e847e3-e5db-46af-b7ae-936c65dcf52a
2025-03-30 19:55:01 - venv - INFO - WebSocketManager - send_to_player: Sent message to player c4e847e3-e5db-46af-b7ae-936c65dcf52a
2025-03-30 19:55:01 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 09d60735-fbda-4da8-bdb2-1e92dec00c7c
2025-03-30 19:55:01 - venv - INFO - WebSocketManager - connect: Added connection for game 09d60735-fbda-4da8-bdb2-1e92dec00c7c
2025-03-30 19:55:06 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 09d60735-fbda-4da8-bdb2-1e92dec00c7c
2025-03-30 19:55:06 - watchfiles.main - INFO - 2 changes detected
2025-03-30 19:55:50 - watchfiles.main - INFO - 3 changes detected
2025-03-30 19:56:26 - watchfiles.main - INFO - 1 change detected
2025-03-30 19:56:26 - watchfiles.main - INFO - 3 changes detected
2025-03-30 19:58:21 - venv - INFO - WebSocketManager - connect: Added connection for game 5405994a-7889-48c0-a532-1a5eee0bdf9d
2025-03-30 19:58:33 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 58, 33, 309292) game_id='5405994a-7889-48c0-a532-1a5eee0bdf9d' target_players=['4d834b2d-d711-4034-b367-8336534354ed']
2025-03-30 19:58:33 - venv - INFO - broadcaster - broadcast_notification: Sending to player 4d834b2d-d711-4034-b367-8336534354ed
2025-03-30 19:58:33 - venv - INFO - WebSocketManager - send_to_player: 5405994a-7889-48c0-a532-1a5eee0bdf9d, 4d834b2d-d711-4034-b367-8336534354ed, {"type":"game_started","data":{},"timestamp":"2025-03-30T23:58:33.309292","game_id":"5405994a-7889-48c0-a532-1a5eee0bdf9d","target_players":["4d834b2d-d711-4034-b367-8336534354ed"]}
2025-03-30 19:58:33 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:58:33 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 7cf1ed47-277f-4e30-9270-1770e349566d
2025-03-30 19:58:33 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player 4d834b2d-d711-4034-b367-8336534354ed
2025-03-30 19:58:33 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 30, 23, 58, 33, 310323) game_id='5405994a-7889-48c0-a532-1a5eee0bdf9d' target_players=['7cf1ed47-277f-4e30-9270-1770e349566d']
2025-03-30 19:58:33 - venv - INFO - broadcaster - broadcast_notification: Sending to player 7cf1ed47-277f-4e30-9270-1770e349566d
2025-03-30 19:58:33 - venv - INFO - WebSocketManager - send_to_player: 5405994a-7889-48c0-a532-1a5eee0bdf9d, 7cf1ed47-277f-4e30-9270-1770e349566d, {"type":"game_started_initial","data":{},"timestamp":"2025-03-30T23:58:33.310323","game_id":"5405994a-7889-48c0-a532-1a5eee0bdf9d","target_players":["7cf1ed47-277f-4e30-9270-1770e349566d"]}
2025-03-30 19:58:33 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 19:58:33 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 7cf1ed47-277f-4e30-9270-1770e349566d
2025-03-30 19:58:33 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 7cf1ed47-277f-4e30-9270-1770e349566d
2025-03-30 19:58:33 - venv - INFO - WebSocketManager - connect: Added connection for game 5405994a-7889-48c0-a532-1a5eee0bdf9d
2025-03-30 19:58:57 - watchfiles.main - INFO - 3 changes detected
2025-03-30 19:59:32 - watchfiles.main - INFO - 1 change detected
2025-03-30 19:59:32 - watchfiles.main - INFO - 3 changes detected
2025-03-30 20:00:46 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 5405994a-7889-48c0-a532-1a5eee0bdf9d
2025-03-30 20:00:46 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 5405994a-7889-48c0-a532-1a5eee0bdf9d
2025-03-30 20:00:56 - venv - INFO - WebSocketManager - connect: Added connection for game 4d46da65-dcb3-47b8-8436-fd35943d5f20
2025-03-30 20:00:58 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 0, 58, 933903) game_id='4d46da65-dcb3-47b8-8436-fd35943d5f20' target_players=['40674893-a6eb-4c7e-82ef-d0fd4e0a1fcf']
2025-03-30 20:00:58 - venv - INFO - broadcaster - broadcast_notification: Sending to player 40674893-a6eb-4c7e-82ef-d0fd4e0a1fcf
2025-03-30 20:00:58 - venv - INFO - WebSocketManager - send_to_player: 4d46da65-dcb3-47b8-8436-fd35943d5f20, 40674893-a6eb-4c7e-82ef-d0fd4e0a1fcf, {"type":"game_started","data":{},"timestamp":"2025-03-31T00:00:58.933903","game_id":"4d46da65-dcb3-47b8-8436-fd35943d5f20","target_players":["40674893-a6eb-4c7e-82ef-d0fd4e0a1fcf"]}
2025-03-30 20:00:58 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:00:58 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player b89aeb3c-dc14-4874-ad68-e60bad8ee895
2025-03-30 20:00:58 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player 40674893-a6eb-4c7e-82ef-d0fd4e0a1fcf
2025-03-30 20:00:58 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 0, 58, 934953) game_id='4d46da65-dcb3-47b8-8436-fd35943d5f20' target_players=['b89aeb3c-dc14-4874-ad68-e60bad8ee895']
2025-03-30 20:00:58 - venv - INFO - broadcaster - broadcast_notification: Sending to player b89aeb3c-dc14-4874-ad68-e60bad8ee895
2025-03-30 20:00:58 - venv - INFO - WebSocketManager - send_to_player: 4d46da65-dcb3-47b8-8436-fd35943d5f20, b89aeb3c-dc14-4874-ad68-e60bad8ee895, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T00:00:58.934953","game_id":"4d46da65-dcb3-47b8-8436-fd35943d5f20","target_players":["b89aeb3c-dc14-4874-ad68-e60bad8ee895"]}
2025-03-30 20:00:58 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:00:58 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player b89aeb3c-dc14-4874-ad68-e60bad8ee895
2025-03-30 20:00:58 - venv - INFO - WebSocketManager - send_to_player: Sent message to player b89aeb3c-dc14-4874-ad68-e60bad8ee895
2025-03-30 20:00:58 - venv - INFO - WebSocketManager - connect: Added connection for game 4d46da65-dcb3-47b8-8436-fd35943d5f20
2025-03-30 20:02:19 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 4d46da65-dcb3-47b8-8436-fd35943d5f20
2025-03-30 20:02:33 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 4d46da65-dcb3-47b8-8436-fd35943d5f20
2025-03-30 20:02:42 - watchfiles.main - INFO - 1 change detected
2025-03-30 20:02:42 - watchfiles.main - INFO - 3 changes detected
2025-03-30 20:02:48 - venv - INFO - WebSocketManager - connect: Added connection for game 10df8493-7fa0-48ee-958c-1207db82210f
2025-03-30 20:02:53 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 2, 53, 959963) game_id='10df8493-7fa0-48ee-958c-1207db82210f' target_players=['36072c23-b50a-4060-9258-953dd6ccb3d4']
2025-03-30 20:02:53 - venv - INFO - broadcaster - broadcast_notification: Sending to player 36072c23-b50a-4060-9258-953dd6ccb3d4
2025-03-30 20:02:53 - venv - INFO - WebSocketManager - send_to_player: 10df8493-7fa0-48ee-958c-1207db82210f, 36072c23-b50a-4060-9258-953dd6ccb3d4, {"type":"game_started","data":{},"timestamp":"2025-03-31T00:02:53.959963","game_id":"10df8493-7fa0-48ee-958c-1207db82210f","target_players":["36072c23-b50a-4060-9258-953dd6ccb3d4"]}
2025-03-30 20:02:53 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:02:53 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 77579343-19b0-4e9c-808b-3be4673c8143
2025-03-30 20:02:53 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player 36072c23-b50a-4060-9258-953dd6ccb3d4
2025-03-30 20:02:53 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 2, 53, 961804) game_id='10df8493-7fa0-48ee-958c-1207db82210f' target_players=['77579343-19b0-4e9c-808b-3be4673c8143']
2025-03-30 20:02:53 - venv - INFO - broadcaster - broadcast_notification: Sending to player 77579343-19b0-4e9c-808b-3be4673c8143
2025-03-30 20:02:53 - venv - INFO - WebSocketManager - send_to_player: 10df8493-7fa0-48ee-958c-1207db82210f, 77579343-19b0-4e9c-808b-3be4673c8143, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T00:02:53.961804","game_id":"10df8493-7fa0-48ee-958c-1207db82210f","target_players":["77579343-19b0-4e9c-808b-3be4673c8143"]}
2025-03-30 20:02:53 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:02:53 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 77579343-19b0-4e9c-808b-3be4673c8143
2025-03-30 20:02:53 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 77579343-19b0-4e9c-808b-3be4673c8143
2025-03-30 20:02:53 - venv - INFO - WebSocketManager - connect: Added connection for game 10df8493-7fa0-48ee-958c-1207db82210f
2025-03-30 20:05:37 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 10df8493-7fa0-48ee-958c-1207db82210f
2025-03-30 20:05:37 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 10df8493-7fa0-48ee-958c-1207db82210f
2025-03-30 20:05:53 - venv - INFO - WebSocketManager - connect: Added connection for game 645852ad-da65-48f3-9570-92e2d58ff7d1
2025-03-30 20:05:57 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 5, 57, 687865) game_id='645852ad-da65-48f3-9570-92e2d58ff7d1' target_players=['c459bbb1-28f0-4c1e-a18b-7ee21fb830b5']
2025-03-30 20:05:57 - venv - INFO - broadcaster - broadcast_notification: Sending to player c459bbb1-28f0-4c1e-a18b-7ee21fb830b5
2025-03-30 20:05:57 - venv - INFO - WebSocketManager - send_to_player: 645852ad-da65-48f3-9570-92e2d58ff7d1, c459bbb1-28f0-4c1e-a18b-7ee21fb830b5, {"type":"game_started","data":{},"timestamp":"2025-03-31T00:05:57.687865","game_id":"645852ad-da65-48f3-9570-92e2d58ff7d1","target_players":["c459bbb1-28f0-4c1e-a18b-7ee21fb830b5"]}
2025-03-30 20:05:57 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:05:57 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 3730b2bc-0cd9-4070-81d2-d37d917dc0e1
2025-03-30 20:05:57 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player c459bbb1-28f0-4c1e-a18b-7ee21fb830b5
2025-03-30 20:05:57 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 5, 57, 689003) game_id='645852ad-da65-48f3-9570-92e2d58ff7d1' target_players=['3730b2bc-0cd9-4070-81d2-d37d917dc0e1']
2025-03-30 20:05:57 - venv - INFO - broadcaster - broadcast_notification: Sending to player 3730b2bc-0cd9-4070-81d2-d37d917dc0e1
2025-03-30 20:05:57 - venv - INFO - WebSocketManager - send_to_player: 645852ad-da65-48f3-9570-92e2d58ff7d1, 3730b2bc-0cd9-4070-81d2-d37d917dc0e1, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T00:05:57.689003","game_id":"645852ad-da65-48f3-9570-92e2d58ff7d1","target_players":["3730b2bc-0cd9-4070-81d2-d37d917dc0e1"]}
2025-03-30 20:05:57 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:05:57 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 3730b2bc-0cd9-4070-81d2-d37d917dc0e1
2025-03-30 20:05:57 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 3730b2bc-0cd9-4070-81d2-d37d917dc0e1
2025-03-30 20:05:57 - venv - INFO - WebSocketManager - connect: Added connection for game 645852ad-da65-48f3-9570-92e2d58ff7d1
2025-03-30 20:06:14 - watchfiles.main - INFO - 1 change detected
2025-03-30 20:06:14 - watchfiles.main - INFO - 3 changes detected
2025-03-30 20:06:22 - watchfiles.main - INFO - 3 changes detected
2025-03-30 20:06:23 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 645852ad-da65-48f3-9570-92e2d58ff7d1
2025-03-30 20:06:23 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 645852ad-da65-48f3-9570-92e2d58ff7d1
2025-03-30 20:06:23 - watchfiles.main - INFO - 1 change detected
2025-03-30 20:12:12 - venv - INFO - WebSocketManager - connect: Added connection for game f89f2b60-7c6b-455b-9835-229db5d5ab06
2025-03-30 20:12:16 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 12, 16, 134343) game_id='f89f2b60-7c6b-455b-9835-229db5d5ab06' target_players=['d262e24d-6ca3-4713-ae4d-45945bb901b5']
2025-03-30 20:12:16 - venv - INFO - broadcaster - broadcast_notification: Sending to player d262e24d-6ca3-4713-ae4d-45945bb901b5
2025-03-30 20:12:16 - venv - INFO - WebSocketManager - send_to_player: f89f2b60-7c6b-455b-9835-229db5d5ab06, d262e24d-6ca3-4713-ae4d-45945bb901b5, {"type":"game_started","data":{},"timestamp":"2025-03-31T00:12:16.134343","game_id":"f89f2b60-7c6b-455b-9835-229db5d5ab06","target_players":["d262e24d-6ca3-4713-ae4d-45945bb901b5"]}
2025-03-30 20:12:16 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:12:16 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player d3351871-6050-4bdc-abed-9114b2e1148b
2025-03-30 20:12:16 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player d262e24d-6ca3-4713-ae4d-45945bb901b5
2025-03-30 20:12:16 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 12, 16, 136417) game_id='f89f2b60-7c6b-455b-9835-229db5d5ab06' target_players=['d3351871-6050-4bdc-abed-9114b2e1148b']
2025-03-30 20:12:16 - venv - INFO - broadcaster - broadcast_notification: Sending to player d3351871-6050-4bdc-abed-9114b2e1148b
2025-03-30 20:12:16 - venv - INFO - WebSocketManager - send_to_player: f89f2b60-7c6b-455b-9835-229db5d5ab06, d3351871-6050-4bdc-abed-9114b2e1148b, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T00:12:16.136417","game_id":"f89f2b60-7c6b-455b-9835-229db5d5ab06","target_players":["d3351871-6050-4bdc-abed-9114b2e1148b"]}
2025-03-30 20:12:16 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:12:16 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player d3351871-6050-4bdc-abed-9114b2e1148b
2025-03-30 20:12:16 - venv - INFO - WebSocketManager - send_to_player: Sent message to player d3351871-6050-4bdc-abed-9114b2e1148b
2025-03-30 20:12:16 - venv - INFO - WebSocketManager - connect: Added connection for game f89f2b60-7c6b-455b-9835-229db5d5ab06
2025-03-30 20:12:18 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.PLAYER_SELECTING: 'player_selecting'> data={'dice_result': 0, 'stock_price': 11, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': 'd3351871-6050-4bdc-abed-9114b2e1148b', 'second_selector': 'd262e24d-6ca3-4713-ae4d-45945bb901b5', 'dice_roller': 'd262e24d-6ca3-4713-ae4d-45945bb901b5', 'current_player': {'player_id': 'd3351871-6050-4bdc-abed-9114b2e1148b', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.ACE: 1>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.EIGHT: 8>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.CLUBS: 4>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 2}, 'opponent': {'player_id': 'd262e24d-6ca3-4713-ae4d-45945bb901b5', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 0}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 0, 12, 18, 694091) game_id='f89f2b60-7c6b-455b-9835-229db5d5ab06' target_players=['d3351871-6050-4bdc-abed-9114b2e1148b']
2025-03-30 20:12:18 - venv - INFO - broadcaster - broadcast_notification: Sending to player d3351871-6050-4bdc-abed-9114b2e1148b
2025-03-30 20:12:18 - venv - INFO - WebSocketManager - send_to_player: f89f2b60-7c6b-455b-9835-229db5d5ab06, d3351871-6050-4bdc-abed-9114b2e1148b, {"type":"player_selecting","data":{"dice_result":0,"stock_price":11,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"d3351871-6050-4bdc-abed-9114b2e1148b","second_selector":"d262e24d-6ca3-4713-ae4d-45945bb901b5","dice_roller":"d262e24d-6ca3-4713-ae4d-45945bb901b5","current_player":{"player_id":"d3351871-6050-4bdc-abed-9114b2e1148b","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":1,"card_type":1},"big_card":{"suit":1,"rank":8,"card_type":2}},"seven_cards":[{"suit":4,"rank":7,"card_type":3},{"suit":1,"rank":7,"card_type":3}]},"has_selected":false,"current_score":2},"opponent":{"player_id":"d262e24d-6ca3-4713-ae4d-45945bb901b5","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":3,"rank":7,"card_type":3}]},"has_selected":false,"current_score":0},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T00:12:18.694091","game_id":"f89f2b60-7c6b-455b-9835-229db5d5ab06","target_players":["d3351871-6050-4bdc-abed-9114b2e1148b"]}
2025-03-30 20:12:18 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:12:18 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player d3351871-6050-4bdc-abed-9114b2e1148b
2025-03-30 20:12:18 - venv - INFO - WebSocketManager - send_to_player: Sent message to player d3351871-6050-4bdc-abed-9114b2e1148b
2025-03-30 20:12:18 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.OPPONENT_SELECTING: 'opponent_selecting'> data={'dice_result': 0, 'stock_price': 11, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': 'd3351871-6050-4bdc-abed-9114b2e1148b', 'second_selector': 'd262e24d-6ca3-4713-ae4d-45945bb901b5', 'dice_roller': 'd262e24d-6ca3-4713-ae4d-45945bb901b5', 'current_player': {'player_id': 'd262e24d-6ca3-4713-ae4d-45945bb901b5', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TWO: 2>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.NINE: 9>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 0}, 'opponent': {'player_id': 'd3351871-6050-4bdc-abed-9114b2e1148b', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.CLUBS: 4>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 2}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 0, 12, 18, 700285) game_id='f89f2b60-7c6b-455b-9835-229db5d5ab06' target_players=['d262e24d-6ca3-4713-ae4d-45945bb901b5']
2025-03-30 20:12:18 - venv - INFO - broadcaster - broadcast_notification: Sending to player d262e24d-6ca3-4713-ae4d-45945bb901b5
2025-03-30 20:12:18 - venv - INFO - WebSocketManager - send_to_player: f89f2b60-7c6b-455b-9835-229db5d5ab06, d262e24d-6ca3-4713-ae4d-45945bb901b5, {"type":"opponent_selecting","data":{"dice_result":0,"stock_price":11,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"d3351871-6050-4bdc-abed-9114b2e1148b","second_selector":"d262e24d-6ca3-4713-ae4d-45945bb901b5","dice_roller":"d262e24d-6ca3-4713-ae4d-45945bb901b5","current_player":{"player_id":"d262e24d-6ca3-4713-ae4d-45945bb901b5","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":2,"card_type":1},"big_card":{"suit":1,"rank":9,"card_type":2}},"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":3,"rank":7,"card_type":3}]},"has_selected":false,"current_score":0},"opponent":{"player_id":"d3351871-6050-4bdc-abed-9114b2e1148b","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":4,"rank":7,"card_type":3},{"suit":1,"rank":7,"card_type":3}]},"has_selected":false,"current_score":2},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T00:12:18.700285","game_id":"f89f2b60-7c6b-455b-9835-229db5d5ab06","target_players":["d262e24d-6ca3-4713-ae4d-45945bb901b5"]}
2025-03-30 20:12:18 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:12:18 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player d3351871-6050-4bdc-abed-9114b2e1148b
2025-03-30 20:12:18 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player d262e24d-6ca3-4713-ae4d-45945bb901b5
2025-03-30 20:12:18 - venv - INFO - WebSocketManager - send_to_player: Sent message to player d262e24d-6ca3-4713-ae4d-45945bb901b5
2025-03-30 20:14:06 - venv - INFO - WebSocketManager - disconnect: Removed connection for game f89f2b60-7c6b-455b-9835-229db5d5ab06
2025-03-30 20:14:07 - venv - INFO - WebSocketManager - disconnect: Removed connection for game f89f2b60-7c6b-455b-9835-229db5d5ab06
2025-03-30 20:22:21 - watchfiles.main - INFO - 1 change detected
2025-03-30 20:22:22 - watchfiles.main - INFO - 3 changes detected
2025-03-30 20:44:07 - watchfiles.main - INFO - 1 change detected
2025-03-30 20:44:07 - watchfiles.main - INFO - 3 changes detected
2025-03-30 20:51:35 - venv - INFO - WebSocketManager - connect: Added connection for game 252d7a01-97dc-4566-bcf0-d5c43d49d8bd
2025-03-30 20:51:40 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 51, 40, 231798) game_id='252d7a01-97dc-4566-bcf0-d5c43d49d8bd' target_players=['4deed25a-f385-42f5-bf1f-aa4561bda887']
2025-03-30 20:51:40 - venv - INFO - broadcaster - broadcast_notification: Sending to player 4deed25a-f385-42f5-bf1f-aa4561bda887
2025-03-30 20:51:40 - venv - INFO - WebSocketManager - send_to_player: 252d7a01-97dc-4566-bcf0-d5c43d49d8bd, 4deed25a-f385-42f5-bf1f-aa4561bda887, {"type":"game_started","data":{},"timestamp":"2025-03-31T00:51:40.231798","game_id":"252d7a01-97dc-4566-bcf0-d5c43d49d8bd","target_players":["4deed25a-f385-42f5-bf1f-aa4561bda887"]}
2025-03-30 20:51:40 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:51:40 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 6021cad0-e152-4645-aeaf-b07cb37ad09c
2025-03-30 20:51:40 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player 4deed25a-f385-42f5-bf1f-aa4561bda887
2025-03-30 20:51:40 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 51, 40, 234029) game_id='252d7a01-97dc-4566-bcf0-d5c43d49d8bd' target_players=['6021cad0-e152-4645-aeaf-b07cb37ad09c']
2025-03-30 20:51:40 - venv - INFO - broadcaster - broadcast_notification: Sending to player 6021cad0-e152-4645-aeaf-b07cb37ad09c
2025-03-30 20:51:40 - venv - INFO - WebSocketManager - send_to_player: 252d7a01-97dc-4566-bcf0-d5c43d49d8bd, 6021cad0-e152-4645-aeaf-b07cb37ad09c, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T00:51:40.234029","game_id":"252d7a01-97dc-4566-bcf0-d5c43d49d8bd","target_players":["6021cad0-e152-4645-aeaf-b07cb37ad09c"]}
2025-03-30 20:51:40 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:51:40 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 6021cad0-e152-4645-aeaf-b07cb37ad09c
2025-03-30 20:51:40 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 6021cad0-e152-4645-aeaf-b07cb37ad09c
2025-03-30 20:51:40 - venv - INFO - WebSocketManager - connect: Added connection for game 252d7a01-97dc-4566-bcf0-d5c43d49d8bd
2025-03-30 20:51:40 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 252d7a01-97dc-4566-bcf0-d5c43d49d8bd
2025-03-30 20:52:45 - watchfiles.main - INFO - 1 change detected
2025-03-30 20:52:45 - watchfiles.main - INFO - 3 changes detected
2025-03-30 20:52:48 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 252d7a01-97dc-4566-bcf0-d5c43d49d8bd
2025-03-30 20:53:09 - venv - INFO - WebSocketManager - connect: Added connection for game cfba837d-cddf-4160-bea6-e023912288e4
2025-03-30 20:53:13 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 53, 13, 421492) game_id='cfba837d-cddf-4160-bea6-e023912288e4' target_players=['3faabdce-f3e3-47fe-bfb2-d1b30a9ad267']
2025-03-30 20:53:13 - venv - INFO - broadcaster - broadcast_notification: Sending to player 3faabdce-f3e3-47fe-bfb2-d1b30a9ad267
2025-03-30 20:53:13 - venv - INFO - WebSocketManager - send_to_player: cfba837d-cddf-4160-bea6-e023912288e4, 3faabdce-f3e3-47fe-bfb2-d1b30a9ad267, {"type":"game_started","data":{},"timestamp":"2025-03-31T00:53:13.421492","game_id":"cfba837d-cddf-4160-bea6-e023912288e4","target_players":["3faabdce-f3e3-47fe-bfb2-d1b30a9ad267"]}
2025-03-30 20:53:13 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:53:13 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 7e539db7-856a-4f1f-a9e8-99072af6e660
2025-03-30 20:53:13 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player 3faabdce-f3e3-47fe-bfb2-d1b30a9ad267
2025-03-30 20:53:13 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 53, 13, 422555) game_id='cfba837d-cddf-4160-bea6-e023912288e4' target_players=['7e539db7-856a-4f1f-a9e8-99072af6e660']
2025-03-30 20:53:13 - venv - INFO - broadcaster - broadcast_notification: Sending to player 7e539db7-856a-4f1f-a9e8-99072af6e660
2025-03-30 20:53:13 - venv - INFO - WebSocketManager - send_to_player: cfba837d-cddf-4160-bea6-e023912288e4, 7e539db7-856a-4f1f-a9e8-99072af6e660, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T00:53:13.422555","game_id":"cfba837d-cddf-4160-bea6-e023912288e4","target_players":["7e539db7-856a-4f1f-a9e8-99072af6e660"]}
2025-03-30 20:53:13 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:53:13 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 7e539db7-856a-4f1f-a9e8-99072af6e660
2025-03-30 20:53:13 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 7e539db7-856a-4f1f-a9e8-99072af6e660
2025-03-30 20:53:13 - venv - INFO - WebSocketManager - connect: Added connection for game cfba837d-cddf-4160-bea6-e023912288e4
2025-03-30 20:55:01 - venv - INFO - WebSocketManager - disconnect: Removed connection for game cfba837d-cddf-4160-bea6-e023912288e4
2025-03-30 20:55:01 - venv - INFO - WebSocketManager - disconnect: Removed connection for game cfba837d-cddf-4160-bea6-e023912288e4
2025-03-30 20:55:53 - venv - INFO - WebSocketManager - connect: Added connection for game 1d8fd896-2bd4-4e65-9315-34de1e91a886
2025-03-30 20:55:57 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 55, 57, 778417) game_id='1d8fd896-2bd4-4e65-9315-34de1e91a886' target_players=['488a8472-8619-4a76-958d-444884ed17cd']
2025-03-30 20:55:57 - venv - INFO - broadcaster - broadcast_notification: Sending to player 488a8472-8619-4a76-958d-444884ed17cd
2025-03-30 20:55:57 - venv - INFO - WebSocketManager - send_to_player: 1d8fd896-2bd4-4e65-9315-34de1e91a886, 488a8472-8619-4a76-958d-444884ed17cd, {"type":"game_started","data":{},"timestamp":"2025-03-31T00:55:57.778417","game_id":"1d8fd896-2bd4-4e65-9315-34de1e91a886","target_players":["488a8472-8619-4a76-958d-444884ed17cd"]}
2025-03-30 20:55:57 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:55:57 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player be199ef8-3f96-4bff-b078-1ef710538d08
2025-03-30 20:55:57 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player 488a8472-8619-4a76-958d-444884ed17cd
2025-03-30 20:55:57 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 55, 57, 779493) game_id='1d8fd896-2bd4-4e65-9315-34de1e91a886' target_players=['be199ef8-3f96-4bff-b078-1ef710538d08']
2025-03-30 20:55:57 - venv - INFO - broadcaster - broadcast_notification: Sending to player be199ef8-3f96-4bff-b078-1ef710538d08
2025-03-30 20:55:57 - venv - INFO - WebSocketManager - send_to_player: 1d8fd896-2bd4-4e65-9315-34de1e91a886, be199ef8-3f96-4bff-b078-1ef710538d08, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T00:55:57.779493","game_id":"1d8fd896-2bd4-4e65-9315-34de1e91a886","target_players":["be199ef8-3f96-4bff-b078-1ef710538d08"]}
2025-03-30 20:55:57 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:55:57 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player be199ef8-3f96-4bff-b078-1ef710538d08
2025-03-30 20:55:57 - venv - INFO - WebSocketManager - send_to_player: Sent message to player be199ef8-3f96-4bff-b078-1ef710538d08
2025-03-30 20:55:57 - venv - INFO - WebSocketManager - connect: Added connection for game 1d8fd896-2bd4-4e65-9315-34de1e91a886
2025-03-30 20:56:01 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.PLAYER_SELECTING: 'player_selecting'> data={'dice_result': 0, 'stock_price': 10, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': 'be199ef8-3f96-4bff-b078-1ef710538d08', 'second_selector': '488a8472-8619-4a76-958d-444884ed17cd', 'dice_roller': '488a8472-8619-4a76-958d-444884ed17cd', 'current_player': {'player_id': 'be199ef8-3f96-4bff-b078-1ef710538d08', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.ACE: 1>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.EIGHT: 8>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 1}, 'opponent': {'player_id': '488a8472-8619-4a76-958d-444884ed17cd', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.CLUBS: 4>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': -1}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 0, 56, 1, 239656) game_id='1d8fd896-2bd4-4e65-9315-34de1e91a886' target_players=['be199ef8-3f96-4bff-b078-1ef710538d08']
2025-03-30 20:56:01 - venv - INFO - broadcaster - broadcast_notification: Sending to player be199ef8-3f96-4bff-b078-1ef710538d08
2025-03-30 20:56:01 - venv - INFO - WebSocketManager - send_to_player: 1d8fd896-2bd4-4e65-9315-34de1e91a886, be199ef8-3f96-4bff-b078-1ef710538d08, {"type":"player_selecting","data":{"dice_result":0,"stock_price":10,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"be199ef8-3f96-4bff-b078-1ef710538d08","second_selector":"488a8472-8619-4a76-958d-444884ed17cd","dice_roller":"488a8472-8619-4a76-958d-444884ed17cd","current_player":{"player_id":"be199ef8-3f96-4bff-b078-1ef710538d08","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":1,"card_type":1},"big_card":{"suit":1,"rank":8,"card_type":2}},"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":2,"rank":7,"card_type":3}]},"has_selected":false,"current_score":1},"opponent":{"player_id":"488a8472-8619-4a76-958d-444884ed17cd","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":4,"rank":7,"card_type":3}]},"has_selected":false,"current_score":-1},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T00:56:01.239656","game_id":"1d8fd896-2bd4-4e65-9315-34de1e91a886","target_players":["be199ef8-3f96-4bff-b078-1ef710538d08"]}
2025-03-30 20:56:01 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:56:01 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player be199ef8-3f96-4bff-b078-1ef710538d08
2025-03-30 20:56:01 - venv - INFO - WebSocketManager - send_to_player: Sent message to player be199ef8-3f96-4bff-b078-1ef710538d08
2025-03-30 20:56:01 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.OPPONENT_SELECTING: 'opponent_selecting'> data={'dice_result': 0, 'stock_price': 10, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': 'be199ef8-3f96-4bff-b078-1ef710538d08', 'second_selector': '488a8472-8619-4a76-958d-444884ed17cd', 'dice_roller': '488a8472-8619-4a76-958d-444884ed17cd', 'current_player': {'player_id': '488a8472-8619-4a76-958d-444884ed17cd', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TWO: 2>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.NINE: 9>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.CLUBS: 4>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': -1}, 'opponent': {'player_id': 'be199ef8-3f96-4bff-b078-1ef710538d08', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 1}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 0, 56, 1, 241443) game_id='1d8fd896-2bd4-4e65-9315-34de1e91a886' target_players=['488a8472-8619-4a76-958d-444884ed17cd']
2025-03-30 20:56:01 - venv - INFO - broadcaster - broadcast_notification: Sending to player 488a8472-8619-4a76-958d-444884ed17cd
2025-03-30 20:56:01 - venv - INFO - WebSocketManager - send_to_player: 1d8fd896-2bd4-4e65-9315-34de1e91a886, 488a8472-8619-4a76-958d-444884ed17cd, {"type":"opponent_selecting","data":{"dice_result":0,"stock_price":10,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"be199ef8-3f96-4bff-b078-1ef710538d08","second_selector":"488a8472-8619-4a76-958d-444884ed17cd","dice_roller":"488a8472-8619-4a76-958d-444884ed17cd","current_player":{"player_id":"488a8472-8619-4a76-958d-444884ed17cd","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":2,"card_type":1},"big_card":{"suit":1,"rank":9,"card_type":2}},"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":4,"rank":7,"card_type":3}]},"has_selected":false,"current_score":-1},"opponent":{"player_id":"be199ef8-3f96-4bff-b078-1ef710538d08","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":2,"rank":7,"card_type":3}]},"has_selected":false,"current_score":1},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T00:56:01.241443","game_id":"1d8fd896-2bd4-4e65-9315-34de1e91a886","target_players":["488a8472-8619-4a76-958d-444884ed17cd"]}
2025-03-30 20:56:01 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:56:01 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player be199ef8-3f96-4bff-b078-1ef710538d08
2025-03-30 20:56:01 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 488a8472-8619-4a76-958d-444884ed17cd
2025-03-30 20:56:01 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 488a8472-8619-4a76-958d-444884ed17cd
2025-03-30 20:58:51 - watchfiles.main - INFO - 1 change detected
2025-03-30 20:58:51 - watchfiles.main - INFO - 3 changes detected
2025-03-30 20:58:52 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 1d8fd896-2bd4-4e65-9315-34de1e91a886
2025-03-30 20:58:52 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 1d8fd896-2bd4-4e65-9315-34de1e91a886
2025-03-30 20:59:41 - venv - INFO - WebSocketManager - connect: Added connection for game c3dae637-6e92-47f3-9437-db20a1f4fc8b
2025-03-30 20:59:44 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 59, 44, 227954) game_id='c3dae637-6e92-47f3-9437-db20a1f4fc8b' target_players=['543bda28-3b8a-4df4-9e7b-44507c2efbd8']
2025-03-30 20:59:44 - venv - INFO - broadcaster - broadcast_notification: Sending to player 543bda28-3b8a-4df4-9e7b-44507c2efbd8
2025-03-30 20:59:44 - venv - INFO - WebSocketManager - send_to_player: c3dae637-6e92-47f3-9437-db20a1f4fc8b, 543bda28-3b8a-4df4-9e7b-44507c2efbd8, {"type":"game_started","data":{},"timestamp":"2025-03-31T00:59:44.227954","game_id":"c3dae637-6e92-47f3-9437-db20a1f4fc8b","target_players":["543bda28-3b8a-4df4-9e7b-44507c2efbd8"]}
2025-03-30 20:59:44 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:59:44 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player a9b3f6d0-b02e-4d09-809d-cc4e41adffea
2025-03-30 20:59:44 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player 543bda28-3b8a-4df4-9e7b-44507c2efbd8
2025-03-30 20:59:44 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 0, 59, 44, 229101) game_id='c3dae637-6e92-47f3-9437-db20a1f4fc8b' target_players=['a9b3f6d0-b02e-4d09-809d-cc4e41adffea']
2025-03-30 20:59:44 - venv - INFO - broadcaster - broadcast_notification: Sending to player a9b3f6d0-b02e-4d09-809d-cc4e41adffea
2025-03-30 20:59:44 - venv - INFO - WebSocketManager - send_to_player: c3dae637-6e92-47f3-9437-db20a1f4fc8b, a9b3f6d0-b02e-4d09-809d-cc4e41adffea, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T00:59:44.229101","game_id":"c3dae637-6e92-47f3-9437-db20a1f4fc8b","target_players":["a9b3f6d0-b02e-4d09-809d-cc4e41adffea"]}
2025-03-30 20:59:44 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:59:44 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player a9b3f6d0-b02e-4d09-809d-cc4e41adffea
2025-03-30 20:59:44 - venv - INFO - WebSocketManager - send_to_player: Sent message to player a9b3f6d0-b02e-4d09-809d-cc4e41adffea
2025-03-30 20:59:44 - venv - INFO - WebSocketManager - connect: Added connection for game c3dae637-6e92-47f3-9437-db20a1f4fc8b
2025-03-30 20:59:47 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.PLAYER_SELECTING: 'player_selecting'> data={'dice_result': 0, 'stock_price': 11, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': 'a9b3f6d0-b02e-4d09-809d-cc4e41adffea', 'second_selector': '543bda28-3b8a-4df4-9e7b-44507c2efbd8', 'dice_roller': '543bda28-3b8a-4df4-9e7b-44507c2efbd8', 'current_player': {'player_id': 'a9b3f6d0-b02e-4d09-809d-cc4e41adffea', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.ACE: 1>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.EIGHT: 8>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.CLUBS: 4>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 2}, 'opponent': {'player_id': '543bda28-3b8a-4df4-9e7b-44507c2efbd8', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.CLUBS: 4>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 0}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 0, 59, 47, 732694) game_id='c3dae637-6e92-47f3-9437-db20a1f4fc8b' target_players=['a9b3f6d0-b02e-4d09-809d-cc4e41adffea']
2025-03-30 20:59:47 - venv - INFO - broadcaster - broadcast_notification: Sending to player a9b3f6d0-b02e-4d09-809d-cc4e41adffea
2025-03-30 20:59:47 - venv - INFO - WebSocketManager - send_to_player: c3dae637-6e92-47f3-9437-db20a1f4fc8b, a9b3f6d0-b02e-4d09-809d-cc4e41adffea, {"type":"player_selecting","data":{"dice_result":0,"stock_price":11,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"a9b3f6d0-b02e-4d09-809d-cc4e41adffea","second_selector":"543bda28-3b8a-4df4-9e7b-44507c2efbd8","dice_roller":"543bda28-3b8a-4df4-9e7b-44507c2efbd8","current_player":{"player_id":"a9b3f6d0-b02e-4d09-809d-cc4e41adffea","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":1,"card_type":1},"big_card":{"suit":1,"rank":8,"card_type":2}},"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":4,"rank":7,"card_type":3}]},"has_selected":false,"current_score":2},"opponent":{"player_id":"543bda28-3b8a-4df4-9e7b-44507c2efbd8","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":4,"rank":7,"card_type":3},{"suit":2,"rank":7,"card_type":3}]},"has_selected":false,"current_score":0},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T00:59:47.732694","game_id":"c3dae637-6e92-47f3-9437-db20a1f4fc8b","target_players":["a9b3f6d0-b02e-4d09-809d-cc4e41adffea"]}
2025-03-30 20:59:47 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:59:47 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player a9b3f6d0-b02e-4d09-809d-cc4e41adffea
2025-03-30 20:59:47 - venv - INFO - WebSocketManager - send_to_player: Sent message to player a9b3f6d0-b02e-4d09-809d-cc4e41adffea
2025-03-30 20:59:47 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.OPPONENT_SELECTING: 'opponent_selecting'> data={'dice_result': 0, 'stock_price': 11, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': 'a9b3f6d0-b02e-4d09-809d-cc4e41adffea', 'second_selector': '543bda28-3b8a-4df4-9e7b-44507c2efbd8', 'dice_roller': '543bda28-3b8a-4df4-9e7b-44507c2efbd8', 'current_player': {'player_id': '543bda28-3b8a-4df4-9e7b-44507c2efbd8', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TWO: 2>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.NINE: 9>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.CLUBS: 4>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 0}, 'opponent': {'player_id': 'a9b3f6d0-b02e-4d09-809d-cc4e41adffea', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.CLUBS: 4>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 2}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 0, 59, 47, 735851) game_id='c3dae637-6e92-47f3-9437-db20a1f4fc8b' target_players=['543bda28-3b8a-4df4-9e7b-44507c2efbd8']
2025-03-30 20:59:47 - venv - INFO - broadcaster - broadcast_notification: Sending to player 543bda28-3b8a-4df4-9e7b-44507c2efbd8
2025-03-30 20:59:47 - venv - INFO - WebSocketManager - send_to_player: c3dae637-6e92-47f3-9437-db20a1f4fc8b, 543bda28-3b8a-4df4-9e7b-44507c2efbd8, {"type":"opponent_selecting","data":{"dice_result":0,"stock_price":11,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"a9b3f6d0-b02e-4d09-809d-cc4e41adffea","second_selector":"543bda28-3b8a-4df4-9e7b-44507c2efbd8","dice_roller":"543bda28-3b8a-4df4-9e7b-44507c2efbd8","current_player":{"player_id":"543bda28-3b8a-4df4-9e7b-44507c2efbd8","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":2,"card_type":1},"big_card":{"suit":1,"rank":9,"card_type":2}},"seven_cards":[{"suit":4,"rank":7,"card_type":3},{"suit":2,"rank":7,"card_type":3}]},"has_selected":false,"current_score":0},"opponent":{"player_id":"a9b3f6d0-b02e-4d09-809d-cc4e41adffea","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":4,"rank":7,"card_type":3}]},"has_selected":false,"current_score":2},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T00:59:47.735851","game_id":"c3dae637-6e92-47f3-9437-db20a1f4fc8b","target_players":["543bda28-3b8a-4df4-9e7b-44507c2efbd8"]}
2025-03-30 20:59:47 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 20:59:47 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player a9b3f6d0-b02e-4d09-809d-cc4e41adffea
2025-03-30 20:59:47 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 543bda28-3b8a-4df4-9e7b-44507c2efbd8
2025-03-30 20:59:47 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 543bda28-3b8a-4df4-9e7b-44507c2efbd8
2025-03-30 21:04:34 - venv - INFO - WebSocketManager - disconnect: Removed connection for game c3dae637-6e92-47f3-9437-db20a1f4fc8b
2025-03-30 21:04:40 - venv - INFO - WebSocketManager - disconnect: Removed connection for game c3dae637-6e92-47f3-9437-db20a1f4fc8b
2025-03-30 21:04:43 - venv - INFO - WebSocketManager - connect: Added connection for game dbecf7c8-1980-487f-bf8c-2af3c9cddd11
2025-03-30 21:04:45 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 4, 45, 962355) game_id='dbecf7c8-1980-487f-bf8c-2af3c9cddd11' target_players=['19667ba4-569f-4e38-ba13-1b9a4b22f5e2']
2025-03-30 21:04:45 - venv - INFO - broadcaster - broadcast_notification: Sending to player 19667ba4-569f-4e38-ba13-1b9a4b22f5e2
2025-03-30 21:04:45 - venv - INFO - WebSocketManager - send_to_player: dbecf7c8-1980-487f-bf8c-2af3c9cddd11, 19667ba4-569f-4e38-ba13-1b9a4b22f5e2, {"type":"game_started","data":{},"timestamp":"2025-03-31T01:04:45.962355","game_id":"dbecf7c8-1980-487f-bf8c-2af3c9cddd11","target_players":["19667ba4-569f-4e38-ba13-1b9a4b22f5e2"]}
2025-03-30 21:04:45 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:04:45 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 5b865e1d-aa91-42e0-a8b2-09fc965ac0e7
2025-03-30 21:04:45 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player 19667ba4-569f-4e38-ba13-1b9a4b22f5e2
2025-03-30 21:04:45 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 4, 45, 963456) game_id='dbecf7c8-1980-487f-bf8c-2af3c9cddd11' target_players=['5b865e1d-aa91-42e0-a8b2-09fc965ac0e7']
2025-03-30 21:04:45 - venv - INFO - broadcaster - broadcast_notification: Sending to player 5b865e1d-aa91-42e0-a8b2-09fc965ac0e7
2025-03-30 21:04:45 - venv - INFO - WebSocketManager - send_to_player: dbecf7c8-1980-487f-bf8c-2af3c9cddd11, 5b865e1d-aa91-42e0-a8b2-09fc965ac0e7, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T01:04:45.963456","game_id":"dbecf7c8-1980-487f-bf8c-2af3c9cddd11","target_players":["5b865e1d-aa91-42e0-a8b2-09fc965ac0e7"]}
2025-03-30 21:04:45 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:04:45 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 5b865e1d-aa91-42e0-a8b2-09fc965ac0e7
2025-03-30 21:04:45 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 5b865e1d-aa91-42e0-a8b2-09fc965ac0e7
2025-03-30 21:04:45 - venv - INFO - WebSocketManager - connect: Added connection for game dbecf7c8-1980-487f-bf8c-2af3c9cddd11
2025-03-30 21:04:54 - venv - INFO - WebSocketManager - disconnect: Removed connection for game dbecf7c8-1980-487f-bf8c-2af3c9cddd11
2025-03-30 21:04:58 - venv - INFO - WebSocketManager - disconnect: Removed connection for game dbecf7c8-1980-487f-bf8c-2af3c9cddd11
2025-03-30 21:05:03 - watchfiles.main - INFO - 1 change detected
2025-03-30 21:05:03 - watchfiles.main - INFO - 3 changes detected
2025-03-30 21:05:11 - venv - INFO - WebSocketManager - connect: Added connection for game ab894a4a-e650-45d8-ab5a-4c351e06e87a
2025-03-30 21:05:14 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 5, 14, 595965) game_id='ab894a4a-e650-45d8-ab5a-4c351e06e87a' target_players=['a5c479a4-2755-476a-b211-437c12bf1f6a']
2025-03-30 21:05:14 - venv - INFO - broadcaster - broadcast_notification: Sending to player a5c479a4-2755-476a-b211-437c12bf1f6a
2025-03-30 21:05:14 - venv - INFO - WebSocketManager - send_to_player: ab894a4a-e650-45d8-ab5a-4c351e06e87a, a5c479a4-2755-476a-b211-437c12bf1f6a, {"type":"game_started","data":{},"timestamp":"2025-03-31T01:05:14.595965","game_id":"ab894a4a-e650-45d8-ab5a-4c351e06e87a","target_players":["a5c479a4-2755-476a-b211-437c12bf1f6a"]}
2025-03-30 21:05:14 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:05:14 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 64c9cab5-0ce9-4f9a-a4c6-310daee3c371
2025-03-30 21:05:14 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player a5c479a4-2755-476a-b211-437c12bf1f6a
2025-03-30 21:05:14 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 5, 14, 597045) game_id='ab894a4a-e650-45d8-ab5a-4c351e06e87a' target_players=['64c9cab5-0ce9-4f9a-a4c6-310daee3c371']
2025-03-30 21:05:14 - venv - INFO - broadcaster - broadcast_notification: Sending to player 64c9cab5-0ce9-4f9a-a4c6-310daee3c371
2025-03-30 21:05:14 - venv - INFO - WebSocketManager - send_to_player: ab894a4a-e650-45d8-ab5a-4c351e06e87a, 64c9cab5-0ce9-4f9a-a4c6-310daee3c371, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T01:05:14.597045","game_id":"ab894a4a-e650-45d8-ab5a-4c351e06e87a","target_players":["64c9cab5-0ce9-4f9a-a4c6-310daee3c371"]}
2025-03-30 21:05:14 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:05:14 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 64c9cab5-0ce9-4f9a-a4c6-310daee3c371
2025-03-30 21:05:14 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 64c9cab5-0ce9-4f9a-a4c6-310daee3c371
2025-03-30 21:05:14 - venv - INFO - WebSocketManager - connect: Added connection for game ab894a4a-e650-45d8-ab5a-4c351e06e87a
2025-03-30 21:07:43 - venv - INFO - WebSocketManager - disconnect: Removed connection for game ab894a4a-e650-45d8-ab5a-4c351e06e87a
2025-03-30 21:07:43 - venv - INFO - WebSocketManager - disconnect: Removed connection for game ab894a4a-e650-45d8-ab5a-4c351e06e87a
2025-03-30 21:08:34 - watchfiles.main - INFO - 1 change detected
2025-03-30 21:08:34 - watchfiles.main - INFO - 3 changes detected
2025-03-30 21:08:44 - watchfiles.main - INFO - 1 change detected
2025-03-30 21:08:44 - watchfiles.main - INFO - 1 change detected
2025-03-30 21:11:22 - venv - INFO - WebSocketManager - connect: Added connection for game 1b8dd3e7-b4b4-4a42-936a-9b5c75e1cf90
2025-03-30 21:11:25 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 11, 25, 365847) game_id='1b8dd3e7-b4b4-4a42-936a-9b5c75e1cf90' target_players=['f9293bf1-c53a-4dc8-bf93-f5b20aef1bc1']
2025-03-30 21:11:25 - venv - INFO - broadcaster - broadcast_notification: Sending to player f9293bf1-c53a-4dc8-bf93-f5b20aef1bc1
2025-03-30 21:11:25 - venv - INFO - WebSocketManager - send_to_player: 1b8dd3e7-b4b4-4a42-936a-9b5c75e1cf90, f9293bf1-c53a-4dc8-bf93-f5b20aef1bc1, {"type":"game_started","data":{},"timestamp":"2025-03-31T01:11:25.365847","game_id":"1b8dd3e7-b4b4-4a42-936a-9b5c75e1cf90","target_players":["f9293bf1-c53a-4dc8-bf93-f5b20aef1bc1"]}
2025-03-30 21:11:25 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:11:25 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 7dc3d439-73f6-4b4e-8228-181ca818b30a
2025-03-30 21:11:25 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player f9293bf1-c53a-4dc8-bf93-f5b20aef1bc1
2025-03-30 21:11:25 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 11, 25, 367653) game_id='1b8dd3e7-b4b4-4a42-936a-9b5c75e1cf90' target_players=['7dc3d439-73f6-4b4e-8228-181ca818b30a']
2025-03-30 21:11:25 - venv - INFO - broadcaster - broadcast_notification: Sending to player 7dc3d439-73f6-4b4e-8228-181ca818b30a
2025-03-30 21:11:25 - venv - INFO - WebSocketManager - send_to_player: 1b8dd3e7-b4b4-4a42-936a-9b5c75e1cf90, 7dc3d439-73f6-4b4e-8228-181ca818b30a, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T01:11:25.367653","game_id":"1b8dd3e7-b4b4-4a42-936a-9b5c75e1cf90","target_players":["7dc3d439-73f6-4b4e-8228-181ca818b30a"]}
2025-03-30 21:11:25 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:11:25 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 7dc3d439-73f6-4b4e-8228-181ca818b30a
2025-03-30 21:11:25 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 7dc3d439-73f6-4b4e-8228-181ca818b30a
2025-03-30 21:11:25 - venv - INFO - WebSocketManager - connect: Added connection for game 1b8dd3e7-b4b4-4a42-936a-9b5c75e1cf90
2025-03-30 21:12:24 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 1b8dd3e7-b4b4-4a42-936a-9b5c75e1cf90
2025-03-30 21:12:27 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 1b8dd3e7-b4b4-4a42-936a-9b5c75e1cf90
2025-03-30 21:12:31 - watchfiles.main - INFO - 1 change detected
2025-03-30 21:12:32 - watchfiles.main - INFO - 3 changes detected
2025-03-30 21:12:38 - venv - INFO - WebSocketManager - connect: Added connection for game b73c51fb-a27f-4750-99ca-1e036aaca542
2025-03-30 21:12:42 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 12, 42, 161499) game_id='b73c51fb-a27f-4750-99ca-1e036aaca542' target_players=['ca4d6382-4e1d-4d60-b18d-40c3bab97164']
2025-03-30 21:12:42 - venv - INFO - broadcaster - broadcast_notification: Sending to player ca4d6382-4e1d-4d60-b18d-40c3bab97164
2025-03-30 21:12:42 - venv - INFO - WebSocketManager - send_to_player: b73c51fb-a27f-4750-99ca-1e036aaca542, ca4d6382-4e1d-4d60-b18d-40c3bab97164, {"type":"game_started","data":{},"timestamp":"2025-03-31T01:12:42.161499","game_id":"b73c51fb-a27f-4750-99ca-1e036aaca542","target_players":["ca4d6382-4e1d-4d60-b18d-40c3bab97164"]}
2025-03-30 21:12:42 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:12:42 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 9a639f53-6061-46f1-978f-6fb107fac096
2025-03-30 21:12:42 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player ca4d6382-4e1d-4d60-b18d-40c3bab97164
2025-03-30 21:12:42 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 12, 42, 162526) game_id='b73c51fb-a27f-4750-99ca-1e036aaca542' target_players=['9a639f53-6061-46f1-978f-6fb107fac096']
2025-03-30 21:12:42 - venv - INFO - broadcaster - broadcast_notification: Sending to player 9a639f53-6061-46f1-978f-6fb107fac096
2025-03-30 21:12:42 - venv - INFO - WebSocketManager - send_to_player: b73c51fb-a27f-4750-99ca-1e036aaca542, 9a639f53-6061-46f1-978f-6fb107fac096, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T01:12:42.162526","game_id":"b73c51fb-a27f-4750-99ca-1e036aaca542","target_players":["9a639f53-6061-46f1-978f-6fb107fac096"]}
2025-03-30 21:12:42 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:12:42 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 9a639f53-6061-46f1-978f-6fb107fac096
2025-03-30 21:12:42 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 9a639f53-6061-46f1-978f-6fb107fac096
2025-03-30 21:12:42 - venv - INFO - WebSocketManager - connect: Added connection for game b73c51fb-a27f-4750-99ca-1e036aaca542
2025-03-30 21:13:36 - venv - INFO - WebSocketManager - disconnect: Removed connection for game b73c51fb-a27f-4750-99ca-1e036aaca542
2025-03-30 21:13:40 - venv - INFO - WebSocketManager - disconnect: Removed connection for game b73c51fb-a27f-4750-99ca-1e036aaca542
2025-03-30 21:13:49 - venv - INFO - WebSocketManager - connect: Added connection for game f57ad8e1-596d-4556-9447-44d964de8bd4
2025-03-30 21:13:54 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 13, 54, 474756) game_id='f57ad8e1-596d-4556-9447-44d964de8bd4' target_players=['425c779d-cd9f-42a1-9c5c-2a38d7634db8']
2025-03-30 21:13:54 - venv - INFO - broadcaster - broadcast_notification: Sending to player 425c779d-cd9f-42a1-9c5c-2a38d7634db8
2025-03-30 21:13:54 - venv - INFO - WebSocketManager - send_to_player: f57ad8e1-596d-4556-9447-44d964de8bd4, 425c779d-cd9f-42a1-9c5c-2a38d7634db8, {"type":"game_started","data":{},"timestamp":"2025-03-31T01:13:54.474756","game_id":"f57ad8e1-596d-4556-9447-44d964de8bd4","target_players":["425c779d-cd9f-42a1-9c5c-2a38d7634db8"]}
2025-03-30 21:13:54 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:13:54 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 84310abb-f801-419d-a6c9-c0a6cfe9a389
2025-03-30 21:13:54 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player 425c779d-cd9f-42a1-9c5c-2a38d7634db8
2025-03-30 21:13:54 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 13, 54, 475517) game_id='f57ad8e1-596d-4556-9447-44d964de8bd4' target_players=['84310abb-f801-419d-a6c9-c0a6cfe9a389']
2025-03-30 21:13:54 - venv - INFO - broadcaster - broadcast_notification: Sending to player 84310abb-f801-419d-a6c9-c0a6cfe9a389
2025-03-30 21:13:54 - venv - INFO - WebSocketManager - send_to_player: f57ad8e1-596d-4556-9447-44d964de8bd4, 84310abb-f801-419d-a6c9-c0a6cfe9a389, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T01:13:54.475517","game_id":"f57ad8e1-596d-4556-9447-44d964de8bd4","target_players":["84310abb-f801-419d-a6c9-c0a6cfe9a389"]}
2025-03-30 21:13:54 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:13:54 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 84310abb-f801-419d-a6c9-c0a6cfe9a389
2025-03-30 21:13:54 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 84310abb-f801-419d-a6c9-c0a6cfe9a389
2025-03-30 21:13:54 - venv - INFO - WebSocketManager - connect: Added connection for game f57ad8e1-596d-4556-9447-44d964de8bd4
2025-03-30 21:13:56 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.PLAYER_SELECTING: 'player_selecting'> data={'dice_result': 0, 'stock_price': 10, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': '84310abb-f801-419d-a6c9-c0a6cfe9a389', 'second_selector': '425c779d-cd9f-42a1-9c5c-2a38d7634db8', 'dice_roller': '425c779d-cd9f-42a1-9c5c-2a38d7634db8', 'current_player': {'player_id': '84310abb-f801-419d-a6c9-c0a6cfe9a389', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.ACE: 1>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.EIGHT: 8>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 1}, 'opponent': {'player_id': '425c779d-cd9f-42a1-9c5c-2a38d7634db8', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.CLUBS: 4>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': -1}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 1, 13, 56, 148322) game_id='f57ad8e1-596d-4556-9447-44d964de8bd4' target_players=['84310abb-f801-419d-a6c9-c0a6cfe9a389']
2025-03-30 21:13:56 - venv - INFO - broadcaster - broadcast_notification: Sending to player 84310abb-f801-419d-a6c9-c0a6cfe9a389
2025-03-30 21:13:56 - venv - INFO - WebSocketManager - send_to_player: f57ad8e1-596d-4556-9447-44d964de8bd4, 84310abb-f801-419d-a6c9-c0a6cfe9a389, {"type":"player_selecting","data":{"dice_result":0,"stock_price":10,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"84310abb-f801-419d-a6c9-c0a6cfe9a389","second_selector":"425c779d-cd9f-42a1-9c5c-2a38d7634db8","dice_roller":"425c779d-cd9f-42a1-9c5c-2a38d7634db8","current_player":{"player_id":"84310abb-f801-419d-a6c9-c0a6cfe9a389","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":1,"card_type":1},"big_card":{"suit":1,"rank":8,"card_type":2}},"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":1,"rank":7,"card_type":3}]},"has_selected":false,"current_score":1},"opponent":{"player_id":"425c779d-cd9f-42a1-9c5c-2a38d7634db8","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":4,"rank":7,"card_type":3}]},"has_selected":false,"current_score":-1},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T01:13:56.148322","game_id":"f57ad8e1-596d-4556-9447-44d964de8bd4","target_players":["84310abb-f801-419d-a6c9-c0a6cfe9a389"]}
2025-03-30 21:13:56 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:13:56 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 84310abb-f801-419d-a6c9-c0a6cfe9a389
2025-03-30 21:13:56 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 84310abb-f801-419d-a6c9-c0a6cfe9a389
2025-03-30 21:13:56 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.OPPONENT_SELECTING: 'opponent_selecting'> data={'dice_result': 0, 'stock_price': 10, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': '84310abb-f801-419d-a6c9-c0a6cfe9a389', 'second_selector': '425c779d-cd9f-42a1-9c5c-2a38d7634db8', 'dice_roller': '425c779d-cd9f-42a1-9c5c-2a38d7634db8', 'current_player': {'player_id': '425c779d-cd9f-42a1-9c5c-2a38d7634db8', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TWO: 2>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.NINE: 9>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.CLUBS: 4>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': -1}, 'opponent': {'player_id': '84310abb-f801-419d-a6c9-c0a6cfe9a389', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 1}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 1, 13, 56, 151171) game_id='f57ad8e1-596d-4556-9447-44d964de8bd4' target_players=['425c779d-cd9f-42a1-9c5c-2a38d7634db8']
2025-03-30 21:13:56 - venv - INFO - broadcaster - broadcast_notification: Sending to player 425c779d-cd9f-42a1-9c5c-2a38d7634db8
2025-03-30 21:13:56 - venv - INFO - WebSocketManager - send_to_player: f57ad8e1-596d-4556-9447-44d964de8bd4, 425c779d-cd9f-42a1-9c5c-2a38d7634db8, {"type":"opponent_selecting","data":{"dice_result":0,"stock_price":10,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"84310abb-f801-419d-a6c9-c0a6cfe9a389","second_selector":"425c779d-cd9f-42a1-9c5c-2a38d7634db8","dice_roller":"425c779d-cd9f-42a1-9c5c-2a38d7634db8","current_player":{"player_id":"425c779d-cd9f-42a1-9c5c-2a38d7634db8","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":2,"card_type":1},"big_card":{"suit":1,"rank":9,"card_type":2}},"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":4,"rank":7,"card_type":3}]},"has_selected":false,"current_score":-1},"opponent":{"player_id":"84310abb-f801-419d-a6c9-c0a6cfe9a389","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":1,"rank":7,"card_type":3}]},"has_selected":false,"current_score":1},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T01:13:56.151171","game_id":"f57ad8e1-596d-4556-9447-44d964de8bd4","target_players":["425c779d-cd9f-42a1-9c5c-2a38d7634db8"]}
2025-03-30 21:13:56 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:13:56 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 84310abb-f801-419d-a6c9-c0a6cfe9a389
2025-03-30 21:13:56 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 425c779d-cd9f-42a1-9c5c-2a38d7634db8
2025-03-30 21:13:56 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 425c779d-cd9f-42a1-9c5c-2a38d7634db8
2025-03-30 21:16:56 - watchfiles.main - INFO - 1 change detected
2025-03-30 21:16:57 - watchfiles.main - INFO - 3 changes detected
2025-03-30 21:16:59 - venv - INFO - WebSocketManager - disconnect: Removed connection for game f57ad8e1-596d-4556-9447-44d964de8bd4
2025-03-30 21:16:59 - venv - INFO - WebSocketManager - disconnect: Removed connection for game f57ad8e1-596d-4556-9447-44d964de8bd4
2025-03-30 21:17:41 - venv - INFO - WebSocketManager - connect: Added connection for game 0fde5272-5cb6-4efc-9515-b2441ed7d94d
2025-03-30 21:17:42 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 17, 42, 938005) game_id='0fde5272-5cb6-4efc-9515-b2441ed7d94d' target_players=['d25600aa-26d5-40ee-94b0-c3b5a8e068a8']
2025-03-30 21:17:42 - venv - INFO - broadcaster - broadcast_notification: Sending to player d25600aa-26d5-40ee-94b0-c3b5a8e068a8
2025-03-30 21:17:42 - venv - INFO - WebSocketManager - send_to_player: 0fde5272-5cb6-4efc-9515-b2441ed7d94d, d25600aa-26d5-40ee-94b0-c3b5a8e068a8, {"type":"game_started","data":{},"timestamp":"2025-03-31T01:17:42.938005","game_id":"0fde5272-5cb6-4efc-9515-b2441ed7d94d","target_players":["d25600aa-26d5-40ee-94b0-c3b5a8e068a8"]}
2025-03-30 21:17:42 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:17:42 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 5601ee85-b821-49ec-aa94-626054b2262e
2025-03-30 21:17:42 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player d25600aa-26d5-40ee-94b0-c3b5a8e068a8
2025-03-30 21:17:42 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 17, 42, 940975) game_id='0fde5272-5cb6-4efc-9515-b2441ed7d94d' target_players=['5601ee85-b821-49ec-aa94-626054b2262e']
2025-03-30 21:17:42 - venv - INFO - broadcaster - broadcast_notification: Sending to player 5601ee85-b821-49ec-aa94-626054b2262e
2025-03-30 21:17:42 - venv - INFO - WebSocketManager - send_to_player: 0fde5272-5cb6-4efc-9515-b2441ed7d94d, 5601ee85-b821-49ec-aa94-626054b2262e, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T01:17:42.940975","game_id":"0fde5272-5cb6-4efc-9515-b2441ed7d94d","target_players":["5601ee85-b821-49ec-aa94-626054b2262e"]}
2025-03-30 21:17:42 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:17:42 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 5601ee85-b821-49ec-aa94-626054b2262e
2025-03-30 21:17:42 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 5601ee85-b821-49ec-aa94-626054b2262e
2025-03-30 21:17:42 - venv - INFO - WebSocketManager - connect: Added connection for game 0fde5272-5cb6-4efc-9515-b2441ed7d94d
2025-03-30 21:17:44 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.PLAYER_SELECTING: 'player_selecting'> data={'dice_result': 0, 'stock_price': 11, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': '5601ee85-b821-49ec-aa94-626054b2262e', 'second_selector': 'd25600aa-26d5-40ee-94b0-c3b5a8e068a8', 'dice_roller': 'd25600aa-26d5-40ee-94b0-c3b5a8e068a8', 'current_player': {'player_id': '5601ee85-b821-49ec-aa94-626054b2262e', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.ACE: 1>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.EIGHT: 8>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.CLUBS: 4>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 2}, 'opponent': {'player_id': 'd25600aa-26d5-40ee-94b0-c3b5a8e068a8', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 0}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 1, 17, 44, 571695) game_id='0fde5272-5cb6-4efc-9515-b2441ed7d94d' target_players=['5601ee85-b821-49ec-aa94-626054b2262e']
2025-03-30 21:17:44 - venv - INFO - broadcaster - broadcast_notification: Sending to player 5601ee85-b821-49ec-aa94-626054b2262e
2025-03-30 21:17:44 - venv - INFO - WebSocketManager - send_to_player: 0fde5272-5cb6-4efc-9515-b2441ed7d94d, 5601ee85-b821-49ec-aa94-626054b2262e, {"type":"player_selecting","data":{"dice_result":0,"stock_price":11,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"5601ee85-b821-49ec-aa94-626054b2262e","second_selector":"d25600aa-26d5-40ee-94b0-c3b5a8e068a8","dice_roller":"d25600aa-26d5-40ee-94b0-c3b5a8e068a8","current_player":{"player_id":"5601ee85-b821-49ec-aa94-626054b2262e","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":1,"card_type":1},"big_card":{"suit":1,"rank":8,"card_type":2}},"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":4,"rank":7,"card_type":3}]},"has_selected":false,"current_score":2},"opponent":{"player_id":"d25600aa-26d5-40ee-94b0-c3b5a8e068a8","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":1,"rank":7,"card_type":3},{"suit":3,"rank":7,"card_type":3}]},"has_selected":false,"current_score":0},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T01:17:44.571695","game_id":"0fde5272-5cb6-4efc-9515-b2441ed7d94d","target_players":["5601ee85-b821-49ec-aa94-626054b2262e"]}
2025-03-30 21:17:44 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:17:44 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 5601ee85-b821-49ec-aa94-626054b2262e
2025-03-30 21:17:44 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 5601ee85-b821-49ec-aa94-626054b2262e
2025-03-30 21:17:44 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.OPPONENT_SELECTING: 'opponent_selecting'> data={'dice_result': 0, 'stock_price': 11, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': '5601ee85-b821-49ec-aa94-626054b2262e', 'second_selector': 'd25600aa-26d5-40ee-94b0-c3b5a8e068a8', 'dice_roller': 'd25600aa-26d5-40ee-94b0-c3b5a8e068a8', 'current_player': {'player_id': 'd25600aa-26d5-40ee-94b0-c3b5a8e068a8', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TWO: 2>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.NINE: 9>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 0}, 'opponent': {'player_id': '5601ee85-b821-49ec-aa94-626054b2262e', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.CLUBS: 4>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 2}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 1, 17, 44, 574856) game_id='0fde5272-5cb6-4efc-9515-b2441ed7d94d' target_players=['d25600aa-26d5-40ee-94b0-c3b5a8e068a8']
2025-03-30 21:17:44 - venv - INFO - broadcaster - broadcast_notification: Sending to player d25600aa-26d5-40ee-94b0-c3b5a8e068a8
2025-03-30 21:17:44 - venv - INFO - WebSocketManager - send_to_player: 0fde5272-5cb6-4efc-9515-b2441ed7d94d, d25600aa-26d5-40ee-94b0-c3b5a8e068a8, {"type":"opponent_selecting","data":{"dice_result":0,"stock_price":11,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"5601ee85-b821-49ec-aa94-626054b2262e","second_selector":"d25600aa-26d5-40ee-94b0-c3b5a8e068a8","dice_roller":"d25600aa-26d5-40ee-94b0-c3b5a8e068a8","current_player":{"player_id":"d25600aa-26d5-40ee-94b0-c3b5a8e068a8","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":2,"card_type":1},"big_card":{"suit":1,"rank":9,"card_type":2}},"seven_cards":[{"suit":1,"rank":7,"card_type":3},{"suit":3,"rank":7,"card_type":3}]},"has_selected":false,"current_score":0},"opponent":{"player_id":"5601ee85-b821-49ec-aa94-626054b2262e","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":4,"rank":7,"card_type":3}]},"has_selected":false,"current_score":2},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T01:17:44.574856","game_id":"0fde5272-5cb6-4efc-9515-b2441ed7d94d","target_players":["d25600aa-26d5-40ee-94b0-c3b5a8e068a8"]}
2025-03-30 21:17:44 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:17:44 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 5601ee85-b821-49ec-aa94-626054b2262e
2025-03-30 21:17:44 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player d25600aa-26d5-40ee-94b0-c3b5a8e068a8
2025-03-30 21:17:44 - venv - INFO - WebSocketManager - send_to_player: Sent message to player d25600aa-26d5-40ee-94b0-c3b5a8e068a8
2025-03-30 21:20:11 - watchfiles.main - INFO - 1 change detected
2025-03-30 21:20:11 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 0fde5272-5cb6-4efc-9515-b2441ed7d94d
2025-03-30 21:20:11 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 0fde5272-5cb6-4efc-9515-b2441ed7d94d
2025-03-30 21:22:31 - venv - INFO - WebSocketManager - connect: Added connection for game f59420b5-a044-427c-b71e-484c67692e48
2025-03-30 21:22:34 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 22, 34, 565413) game_id='f59420b5-a044-427c-b71e-484c67692e48' target_players=['57c19d14-9966-4b71-8737-699f1352c22a']
2025-03-30 21:22:34 - venv - INFO - broadcaster - broadcast_notification: Sending to player 57c19d14-9966-4b71-8737-699f1352c22a
2025-03-30 21:22:34 - venv - INFO - WebSocketManager - send_to_player: f59420b5-a044-427c-b71e-484c67692e48, 57c19d14-9966-4b71-8737-699f1352c22a, {"type":"game_started","data":{},"timestamp":"2025-03-31T01:22:34.565413","game_id":"f59420b5-a044-427c-b71e-484c67692e48","target_players":["57c19d14-9966-4b71-8737-699f1352c22a"]}
2025-03-30 21:22:34 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:22:34 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 048430cb-9320-457c-9f8e-4600a019351e
2025-03-30 21:22:34 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player 57c19d14-9966-4b71-8737-699f1352c22a
2025-03-30 21:22:34 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 22, 34, 566288) game_id='f59420b5-a044-427c-b71e-484c67692e48' target_players=['048430cb-9320-457c-9f8e-4600a019351e']
2025-03-30 21:22:34 - venv - INFO - broadcaster - broadcast_notification: Sending to player 048430cb-9320-457c-9f8e-4600a019351e
2025-03-30 21:22:34 - venv - INFO - WebSocketManager - send_to_player: f59420b5-a044-427c-b71e-484c67692e48, 048430cb-9320-457c-9f8e-4600a019351e, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T01:22:34.566288","game_id":"f59420b5-a044-427c-b71e-484c67692e48","target_players":["048430cb-9320-457c-9f8e-4600a019351e"]}
2025-03-30 21:22:34 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:22:34 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 048430cb-9320-457c-9f8e-4600a019351e
2025-03-30 21:22:34 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 048430cb-9320-457c-9f8e-4600a019351e
2025-03-30 21:22:34 - venv - INFO - WebSocketManager - connect: Added connection for game f59420b5-a044-427c-b71e-484c67692e48
2025-03-30 21:22:36 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.PLAYER_SELECTING: 'player_selecting'> data={'dice_result': 0, 'stock_price': 10, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': '048430cb-9320-457c-9f8e-4600a019351e', 'second_selector': '57c19d14-9966-4b71-8737-699f1352c22a', 'dice_roller': '57c19d14-9966-4b71-8737-699f1352c22a', 'current_player': {'player_id': '048430cb-9320-457c-9f8e-4600a019351e', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.ACE: 1>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.EIGHT: 8>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 1}, 'opponent': {'player_id': '57c19d14-9966-4b71-8737-699f1352c22a', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': -1}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 1, 22, 36, 191716) game_id='f59420b5-a044-427c-b71e-484c67692e48' target_players=['048430cb-9320-457c-9f8e-4600a019351e']
2025-03-30 21:22:36 - venv - INFO - broadcaster - broadcast_notification: Sending to player 048430cb-9320-457c-9f8e-4600a019351e
2025-03-30 21:22:36 - venv - INFO - WebSocketManager - send_to_player: f59420b5-a044-427c-b71e-484c67692e48, 048430cb-9320-457c-9f8e-4600a019351e, {"type":"player_selecting","data":{"dice_result":0,"stock_price":10,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"048430cb-9320-457c-9f8e-4600a019351e","second_selector":"57c19d14-9966-4b71-8737-699f1352c22a","dice_roller":"57c19d14-9966-4b71-8737-699f1352c22a","current_player":{"player_id":"048430cb-9320-457c-9f8e-4600a019351e","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":1,"card_type":1},"big_card":{"suit":1,"rank":8,"card_type":2}},"seven_cards":[{"suit":1,"rank":7,"card_type":3},{"suit":2,"rank":7,"card_type":3}]},"has_selected":false,"current_score":1},"opponent":{"player_id":"57c19d14-9966-4b71-8737-699f1352c22a","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":3,"rank":7,"card_type":3}]},"has_selected":false,"current_score":-1},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T01:22:36.191716","game_id":"f59420b5-a044-427c-b71e-484c67692e48","target_players":["048430cb-9320-457c-9f8e-4600a019351e"]}
2025-03-30 21:22:36 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:22:36 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 048430cb-9320-457c-9f8e-4600a019351e
2025-03-30 21:22:36 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 048430cb-9320-457c-9f8e-4600a019351e
2025-03-30 21:22:36 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.OPPONENT_SELECTING: 'opponent_selecting'> data={'dice_result': 0, 'stock_price': 10, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': '048430cb-9320-457c-9f8e-4600a019351e', 'second_selector': '57c19d14-9966-4b71-8737-699f1352c22a', 'dice_roller': '57c19d14-9966-4b71-8737-699f1352c22a', 'current_player': {'player_id': '57c19d14-9966-4b71-8737-699f1352c22a', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TWO: 2>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.NINE: 9>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': -1}, 'opponent': {'player_id': '048430cb-9320-457c-9f8e-4600a019351e', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 1}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 1, 22, 36, 195529) game_id='f59420b5-a044-427c-b71e-484c67692e48' target_players=['57c19d14-9966-4b71-8737-699f1352c22a']
2025-03-30 21:22:36 - venv - INFO - broadcaster - broadcast_notification: Sending to player 57c19d14-9966-4b71-8737-699f1352c22a
2025-03-30 21:22:36 - venv - INFO - WebSocketManager - send_to_player: f59420b5-a044-427c-b71e-484c67692e48, 57c19d14-9966-4b71-8737-699f1352c22a, {"type":"opponent_selecting","data":{"dice_result":0,"stock_price":10,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"048430cb-9320-457c-9f8e-4600a019351e","second_selector":"57c19d14-9966-4b71-8737-699f1352c22a","dice_roller":"57c19d14-9966-4b71-8737-699f1352c22a","current_player":{"player_id":"57c19d14-9966-4b71-8737-699f1352c22a","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":2,"card_type":1},"big_card":{"suit":1,"rank":9,"card_type":2}},"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":3,"rank":7,"card_type":3}]},"has_selected":false,"current_score":-1},"opponent":{"player_id":"048430cb-9320-457c-9f8e-4600a019351e","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":1,"rank":7,"card_type":3},{"suit":2,"rank":7,"card_type":3}]},"has_selected":false,"current_score":1},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T01:22:36.195529","game_id":"f59420b5-a044-427c-b71e-484c67692e48","target_players":["57c19d14-9966-4b71-8737-699f1352c22a"]}
2025-03-30 21:22:36 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:22:36 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 048430cb-9320-457c-9f8e-4600a019351e
2025-03-30 21:22:36 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 57c19d14-9966-4b71-8737-699f1352c22a
2025-03-30 21:22:36 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 57c19d14-9966-4b71-8737-699f1352c22a
2025-03-30 21:25:28 - watchfiles.main - INFO - 3 changes detected
2025-03-30 21:25:58 - watchfiles.main - INFO - 1 change detected
2025-03-30 21:25:58 - watchfiles.main - INFO - 3 changes detected
2025-03-30 21:27:54 - venv - INFO - WebSocketManager - disconnect: Removed connection for game f59420b5-a044-427c-b71e-484c67692e48
2025-03-30 21:27:54 - venv - INFO - WebSocketManager - disconnect: Removed connection for game f59420b5-a044-427c-b71e-484c67692e48
2025-03-30 21:28:10 - venv - INFO - WebSocketManager - connect: Added connection for game 52ab8876-1130-4b13-b278-3bb1c72a25d8
2025-03-30 21:28:12 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 28, 12, 976306) game_id='52ab8876-1130-4b13-b278-3bb1c72a25d8' target_players=['a76d31be-701e-46b2-8b00-6040a16ec04f']
2025-03-30 21:28:12 - venv - INFO - broadcaster - broadcast_notification: Sending to player a76d31be-701e-46b2-8b00-6040a16ec04f
2025-03-30 21:28:12 - venv - INFO - WebSocketManager - send_to_player: 52ab8876-1130-4b13-b278-3bb1c72a25d8, a76d31be-701e-46b2-8b00-6040a16ec04f, {"type":"game_started","data":{},"timestamp":"2025-03-31T01:28:12.976306","game_id":"52ab8876-1130-4b13-b278-3bb1c72a25d8","target_players":["a76d31be-701e-46b2-8b00-6040a16ec04f"]}
2025-03-30 21:28:12 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:28:12 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 87263d8f-60c1-4251-a896-9738f0454449
2025-03-30 21:28:12 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player a76d31be-701e-46b2-8b00-6040a16ec04f
2025-03-30 21:28:12 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 28, 12, 977291) game_id='52ab8876-1130-4b13-b278-3bb1c72a25d8' target_players=['87263d8f-60c1-4251-a896-9738f0454449']
2025-03-30 21:28:12 - venv - INFO - broadcaster - broadcast_notification: Sending to player 87263d8f-60c1-4251-a896-9738f0454449
2025-03-30 21:28:12 - venv - INFO - WebSocketManager - send_to_player: 52ab8876-1130-4b13-b278-3bb1c72a25d8, 87263d8f-60c1-4251-a896-9738f0454449, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T01:28:12.977291","game_id":"52ab8876-1130-4b13-b278-3bb1c72a25d8","target_players":["87263d8f-60c1-4251-a896-9738f0454449"]}
2025-03-30 21:28:12 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:28:12 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 87263d8f-60c1-4251-a896-9738f0454449
2025-03-30 21:28:12 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 87263d8f-60c1-4251-a896-9738f0454449
2025-03-30 21:28:12 - venv - INFO - WebSocketManager - connect: Added connection for game 52ab8876-1130-4b13-b278-3bb1c72a25d8
2025-03-30 21:28:14 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.PLAYER_SELECTING: 'player_selecting'> data={'dice_result': 0, 'stock_price': 11, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': '87263d8f-60c1-4251-a896-9738f0454449', 'second_selector': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'dice_roller': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'current_player': {'player_id': '87263d8f-60c1-4251-a896-9738f0454449', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.ACE: 1>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.EIGHT: 8>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 2}, 'opponent': {'player_id': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 0}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 1, 28, 14, 357882) game_id='52ab8876-1130-4b13-b278-3bb1c72a25d8' target_players=['87263d8f-60c1-4251-a896-9738f0454449']
2025-03-30 21:28:14 - venv - INFO - broadcaster - broadcast_notification: Sending to player 87263d8f-60c1-4251-a896-9738f0454449
2025-03-30 21:28:14 - venv - INFO - WebSocketManager - send_to_player: 52ab8876-1130-4b13-b278-3bb1c72a25d8, 87263d8f-60c1-4251-a896-9738f0454449, {"type":"player_selecting","data":{"dice_result":0,"stock_price":11,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"87263d8f-60c1-4251-a896-9738f0454449","second_selector":"a76d31be-701e-46b2-8b00-6040a16ec04f","dice_roller":"a76d31be-701e-46b2-8b00-6040a16ec04f","current_player":{"player_id":"87263d8f-60c1-4251-a896-9738f0454449","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":1,"card_type":1},"big_card":{"suit":1,"rank":8,"card_type":2}},"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":2,"rank":7,"card_type":3}]},"has_selected":false,"current_score":2},"opponent":{"player_id":"a76d31be-701e-46b2-8b00-6040a16ec04f","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":3,"rank":7,"card_type":3}]},"has_selected":false,"current_score":0},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T01:28:14.357882","game_id":"52ab8876-1130-4b13-b278-3bb1c72a25d8","target_players":["87263d8f-60c1-4251-a896-9738f0454449"]}
2025-03-30 21:28:14 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:28:14 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 87263d8f-60c1-4251-a896-9738f0454449
2025-03-30 21:28:14 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 87263d8f-60c1-4251-a896-9738f0454449
2025-03-30 21:28:14 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.OPPONENT_SELECTING: 'opponent_selecting'> data={'dice_result': 0, 'stock_price': 11, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': '87263d8f-60c1-4251-a896-9738f0454449', 'second_selector': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'dice_roller': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'current_player': {'player_id': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TWO: 2>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.NINE: 9>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 0}, 'opponent': {'player_id': '87263d8f-60c1-4251-a896-9738f0454449', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 2}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 1, 28, 14, 361400) game_id='52ab8876-1130-4b13-b278-3bb1c72a25d8' target_players=['a76d31be-701e-46b2-8b00-6040a16ec04f']
2025-03-30 21:28:14 - venv - INFO - broadcaster - broadcast_notification: Sending to player a76d31be-701e-46b2-8b00-6040a16ec04f
2025-03-30 21:28:14 - venv - INFO - WebSocketManager - send_to_player: 52ab8876-1130-4b13-b278-3bb1c72a25d8, a76d31be-701e-46b2-8b00-6040a16ec04f, {"type":"opponent_selecting","data":{"dice_result":0,"stock_price":11,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"87263d8f-60c1-4251-a896-9738f0454449","second_selector":"a76d31be-701e-46b2-8b00-6040a16ec04f","dice_roller":"a76d31be-701e-46b2-8b00-6040a16ec04f","current_player":{"player_id":"a76d31be-701e-46b2-8b00-6040a16ec04f","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":2,"card_type":1},"big_card":{"suit":1,"rank":9,"card_type":2}},"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":3,"rank":7,"card_type":3}]},"has_selected":false,"current_score":0},"opponent":{"player_id":"87263d8f-60c1-4251-a896-9738f0454449","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":2,"rank":7,"card_type":3}]},"has_selected":false,"current_score":2},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T01:28:14.361400","game_id":"52ab8876-1130-4b13-b278-3bb1c72a25d8","target_players":["a76d31be-701e-46b2-8b00-6040a16ec04f"]}
2025-03-30 21:28:14 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:28:14 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 87263d8f-60c1-4251-a896-9738f0454449
2025-03-30 21:28:14 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player a76d31be-701e-46b2-8b00-6040a16ec04f
2025-03-30 21:28:14 - venv - INFO - WebSocketManager - send_to_player: Sent message to player a76d31be-701e-46b2-8b00-6040a16ec04f
2025-03-30 21:28:16 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.OPPONENT_SELECTING: 'opponent_selecting'> data={'dice_result': 0, 'stock_price': 11, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': '87263d8f-60c1-4251-a896-9738f0454449', 'second_selector': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'dice_roller': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'current_player': {'player_id': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TWO: 2>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.NINE: 9>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 0}, 'opponent': {'player_id': '87263d8f-60c1-4251-a896-9738f0454449', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 2}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 1, 28, 16, 530724) game_id='52ab8876-1130-4b13-b278-3bb1c72a25d8' target_players=['a76d31be-701e-46b2-8b00-6040a16ec04f']
2025-03-30 21:28:16 - venv - INFO - broadcaster - broadcast_notification: Sending to player a76d31be-701e-46b2-8b00-6040a16ec04f
2025-03-30 21:28:16 - venv - INFO - WebSocketManager - send_to_player: 52ab8876-1130-4b13-b278-3bb1c72a25d8, a76d31be-701e-46b2-8b00-6040a16ec04f, {"type":"opponent_selecting","data":{"dice_result":0,"stock_price":11,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"87263d8f-60c1-4251-a896-9738f0454449","second_selector":"a76d31be-701e-46b2-8b00-6040a16ec04f","dice_roller":"a76d31be-701e-46b2-8b00-6040a16ec04f","current_player":{"player_id":"a76d31be-701e-46b2-8b00-6040a16ec04f","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":2,"card_type":1},"big_card":{"suit":1,"rank":9,"card_type":2}},"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":3,"rank":7,"card_type":3}]},"has_selected":false,"current_score":0},"opponent":{"player_id":"87263d8f-60c1-4251-a896-9738f0454449","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":2,"rank":7,"card_type":3}]},"has_selected":false,"current_score":2},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T01:28:16.530724","game_id":"52ab8876-1130-4b13-b278-3bb1c72a25d8","target_players":["a76d31be-701e-46b2-8b00-6040a16ec04f"]}
2025-03-30 21:28:16 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:28:16 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 87263d8f-60c1-4251-a896-9738f0454449
2025-03-30 21:28:16 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player a76d31be-701e-46b2-8b00-6040a16ec04f
2025-03-30 21:28:16 - venv - INFO - WebSocketManager - send_to_player: Sent message to player a76d31be-701e-46b2-8b00-6040a16ec04f
2025-03-30 21:28:18 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.OPPONENT_SELECTING: 'opponent_selecting'> data={'dice_result': 0, 'stock_price': 11, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': '87263d8f-60c1-4251-a896-9738f0454449', 'second_selector': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'dice_roller': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'current_player': {'player_id': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TWO: 2>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.NINE: 9>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': 0}, 'opponent': {'player_id': '87263d8f-60c1-4251-a896-9738f0454449', 'portfolio': {'regular_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': True, 'current_score': 2}, 'current_phase': <GamePhase.TURN_SELECT_SECOND: 'turn_select_second'>, 'selected_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}]} timestamp=datetime.datetime(2025, 3, 31, 1, 28, 18, 935919) game_id='52ab8876-1130-4b13-b278-3bb1c72a25d8' target_players=['a76d31be-701e-46b2-8b00-6040a16ec04f']
2025-03-30 21:28:18 - venv - INFO - broadcaster - broadcast_notification: Sending to player a76d31be-701e-46b2-8b00-6040a16ec04f
2025-03-30 21:28:18 - venv - INFO - WebSocketManager - send_to_player: 52ab8876-1130-4b13-b278-3bb1c72a25d8, a76d31be-701e-46b2-8b00-6040a16ec04f, {"type":"opponent_selecting","data":{"dice_result":0,"stock_price":11,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"first_selector":"87263d8f-60c1-4251-a896-9738f0454449","second_selector":"a76d31be-701e-46b2-8b00-6040a16ec04f","dice_roller":"a76d31be-701e-46b2-8b00-6040a16ec04f","current_player":{"player_id":"a76d31be-701e-46b2-8b00-6040a16ec04f","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":2,"card_type":1},"big_card":{"suit":1,"rank":9,"card_type":2}},"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":3,"rank":7,"card_type":3}]},"has_selected":false,"current_score":0},"opponent":{"player_id":"87263d8f-60c1-4251-a896-9738f0454449","portfolio":{"regular_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}}],"hidden_pair":null,"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":2,"rank":7,"card_type":3}]},"has_selected":true,"current_score":2},"current_phase":"turn_select_second","selected_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}}]},"timestamp":"2025-03-31T01:28:18.935919","game_id":"52ab8876-1130-4b13-b278-3bb1c72a25d8","target_players":["a76d31be-701e-46b2-8b00-6040a16ec04f"]}
2025-03-30 21:28:18 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:28:18 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 87263d8f-60c1-4251-a896-9738f0454449
2025-03-30 21:28:18 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player a76d31be-701e-46b2-8b00-6040a16ec04f
2025-03-30 21:28:18 - venv - INFO - WebSocketManager - send_to_player: Sent message to player a76d31be-701e-46b2-8b00-6040a16ec04f
2025-03-30 21:28:19 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.OPPONENT_SELECTING: 'opponent_selecting'> data={'dice_result': 0, 'stock_price': 11, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': '87263d8f-60c1-4251-a896-9738f0454449', 'second_selector': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'dice_roller': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'current_player': {'player_id': 'a76d31be-701e-46b2-8b00-6040a16ec04f', 'portfolio': {'regular_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TWO: 2>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.NINE: 9>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': True, 'current_score': 0}, 'opponent': {'player_id': '87263d8f-60c1-4251-a896-9738f0454449', 'portfolio': {'regular_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': True, 'current_score': 2}, 'current_phase': <GamePhase.TURN_COMPLETE: 'turn_complete'>, 'selected_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}]} timestamp=datetime.datetime(2025, 3, 31, 1, 28, 19, 546898) game_id='52ab8876-1130-4b13-b278-3bb1c72a25d8' target_players=['a76d31be-701e-46b2-8b00-6040a16ec04f']
2025-03-30 21:28:19 - venv - INFO - broadcaster - broadcast_notification: Sending to player a76d31be-701e-46b2-8b00-6040a16ec04f
2025-03-30 21:28:19 - venv - INFO - WebSocketManager - send_to_player: 52ab8876-1130-4b13-b278-3bb1c72a25d8, a76d31be-701e-46b2-8b00-6040a16ec04f, {"type":"opponent_selecting","data":{"dice_result":0,"stock_price":11,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":4,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}}],"first_selector":"87263d8f-60c1-4251-a896-9738f0454449","second_selector":"a76d31be-701e-46b2-8b00-6040a16ec04f","dice_roller":"a76d31be-701e-46b2-8b00-6040a16ec04f","current_player":{"player_id":"a76d31be-701e-46b2-8b00-6040a16ec04f","portfolio":{"regular_pairs":[{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}],"hidden_pair":{"small_card":{"suit":1,"rank":2,"card_type":1},"big_card":{"suit":1,"rank":9,"card_type":2}},"seven_cards":[{"suit":2,"rank":7,"card_type":3},{"suit":3,"rank":7,"card_type":3}]},"has_selected":true,"current_score":0},"opponent":{"player_id":"87263d8f-60c1-4251-a896-9738f0454449","portfolio":{"regular_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}}],"hidden_pair":null,"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":2,"rank":7,"card_type":3}]},"has_selected":true,"current_score":2},"current_phase":"turn_complete","selected_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}}]},"timestamp":"2025-03-31T01:28:19.546898","game_id":"52ab8876-1130-4b13-b278-3bb1c72a25d8","target_players":["a76d31be-701e-46b2-8b00-6040a16ec04f"]}
2025-03-30 21:28:19 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:28:19 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 87263d8f-60c1-4251-a896-9738f0454449
2025-03-30 21:28:19 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player a76d31be-701e-46b2-8b00-6040a16ec04f
2025-03-30 21:28:19 - venv - INFO - WebSocketManager - send_to_player: Sent message to player a76d31be-701e-46b2-8b00-6040a16ec04f
2025-03-30 21:38:31 - watchfiles.main - INFO - 1 change detected
2025-03-30 21:38:31 - watchfiles.main - INFO - 3 changes detected
2025-03-30 21:41:07 - watchfiles.main - INFO - 1 change detected
2025-03-30 21:41:07 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 52ab8876-1130-4b13-b278-3bb1c72a25d8
2025-03-30 21:41:07 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 52ab8876-1130-4b13-b278-3bb1c72a25d8
2025-03-30 21:41:07 - watchfiles.main - INFO - 1 change detected
2025-03-30 21:49:25 - watchfiles.main - INFO - 3 changes detected
2025-03-30 21:49:25 - watchfiles.main - INFO - 1 change detected
2025-03-30 21:49:26 - watchfiles.main - INFO - 3 changes detected
2025-03-30 21:49:33 - venv - INFO - WebSocketManager - connect: Added connection for game a89600eb-2dd3-4361-8fc6-c1acd31d311e
2025-03-30 21:49:36 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 49, 36, 142959) game_id='a89600eb-2dd3-4361-8fc6-c1acd31d311e' target_players=['3e06cf7a-0582-462a-b705-a4d9b8d29094']
2025-03-30 21:49:36 - venv - INFO - broadcaster - broadcast_notification: Sending to player 3e06cf7a-0582-462a-b705-a4d9b8d29094
2025-03-30 21:49:36 - venv - INFO - WebSocketManager - send_to_player: a89600eb-2dd3-4361-8fc6-c1acd31d311e, 3e06cf7a-0582-462a-b705-a4d9b8d29094, {"type":"game_started","data":{},"timestamp":"2025-03-31T01:49:36.142959","game_id":"a89600eb-2dd3-4361-8fc6-c1acd31d311e","target_players":["3e06cf7a-0582-462a-b705-a4d9b8d29094"]}
2025-03-30 21:49:36 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:49:36 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player ff13d8f2-fa90-4641-9266-59aa9f5e11b9
2025-03-30 21:49:36 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player 3e06cf7a-0582-462a-b705-a4d9b8d29094
2025-03-30 21:49:36 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 1, 49, 36, 144069) game_id='a89600eb-2dd3-4361-8fc6-c1acd31d311e' target_players=['ff13d8f2-fa90-4641-9266-59aa9f5e11b9']
2025-03-30 21:49:36 - venv - INFO - broadcaster - broadcast_notification: Sending to player ff13d8f2-fa90-4641-9266-59aa9f5e11b9
2025-03-30 21:49:36 - venv - INFO - WebSocketManager - send_to_player: a89600eb-2dd3-4361-8fc6-c1acd31d311e, ff13d8f2-fa90-4641-9266-59aa9f5e11b9, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T01:49:36.144069","game_id":"a89600eb-2dd3-4361-8fc6-c1acd31d311e","target_players":["ff13d8f2-fa90-4641-9266-59aa9f5e11b9"]}
2025-03-30 21:49:36 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:49:36 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player ff13d8f2-fa90-4641-9266-59aa9f5e11b9
2025-03-30 21:49:36 - venv - INFO - WebSocketManager - send_to_player: Sent message to player ff13d8f2-fa90-4641-9266-59aa9f5e11b9
2025-03-30 21:49:36 - venv - INFO - WebSocketManager - connect: Added connection for game a89600eb-2dd3-4361-8fc6-c1acd31d311e
2025-03-30 21:49:37 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.PLAYER_SELECTING: 'player_selecting'> data={'dice_result': 0, 'stock_price': 11, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.KING: 13>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.ACE: 1>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.SIX: 6>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.EIGHT: 8>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': 'ff13d8f2-fa90-4641-9266-59aa9f5e11b9', 'second_selector': '3e06cf7a-0582-462a-b705-a4d9b8d29094', 'dice_roller': '3e06cf7a-0582-462a-b705-a4d9b8d29094', 'current_player': {'player_id': 'ff13d8f2-fa90-4641-9266-59aa9f5e11b9', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': -5}, 'opponent': {'player_id': '3e06cf7a-0582-462a-b705-a4d9b8d29094', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': -2}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 1, 49, 37, 622011) game_id='a89600eb-2dd3-4361-8fc6-c1acd31d311e' target_players=['ff13d8f2-fa90-4641-9266-59aa9f5e11b9']
2025-03-30 21:49:37 - venv - INFO - broadcaster - broadcast_notification: Sending to player ff13d8f2-fa90-4641-9266-59aa9f5e11b9
2025-03-30 21:49:37 - venv - INFO - WebSocketManager - send_to_player: a89600eb-2dd3-4361-8fc6-c1acd31d311e, ff13d8f2-fa90-4641-9266-59aa9f5e11b9, {"type":"player_selecting","data":{"dice_result":0,"stock_price":11,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":13,"card_type":2}},{"small_card":{"suit":1,"rank":1,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":6,"card_type":1},"big_card":{"suit":1,"rank":8,"card_type":2}}],"first_selector":"ff13d8f2-fa90-4641-9266-59aa9f5e11b9","second_selector":"3e06cf7a-0582-462a-b705-a4d9b8d29094","dice_roller":"3e06cf7a-0582-462a-b705-a4d9b8d29094","current_player":{"player_id":"ff13d8f2-fa90-4641-9266-59aa9f5e11b9","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":5,"card_type":1},"big_card":{"suit":1,"rank":11,"card_type":2}},"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":1,"rank":7,"card_type":3}]},"has_selected":false,"current_score":-5},"opponent":{"player_id":"3e06cf7a-0582-462a-b705-a4d9b8d29094","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":2,"rank":7,"card_type":3}]},"has_selected":false,"current_score":-2},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T01:49:37.622011","game_id":"a89600eb-2dd3-4361-8fc6-c1acd31d311e","target_players":["ff13d8f2-fa90-4641-9266-59aa9f5e11b9"]}
2025-03-30 21:49:37 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:49:37 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player ff13d8f2-fa90-4641-9266-59aa9f5e11b9
2025-03-30 21:49:37 - venv - INFO - WebSocketManager - send_to_player: Sent message to player ff13d8f2-fa90-4641-9266-59aa9f5e11b9
2025-03-30 21:49:37 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.OPPONENT_SELECTING: 'opponent_selecting'> data={'dice_result': 0, 'stock_price': 11, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.KING: 13>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.ACE: 1>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.SIX: 6>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.EIGHT: 8>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': 'ff13d8f2-fa90-4641-9266-59aa9f5e11b9', 'second_selector': '3e06cf7a-0582-462a-b705-a4d9b8d29094', 'dice_roller': '3e06cf7a-0582-462a-b705-a4d9b8d29094', 'current_player': {'player_id': '3e06cf7a-0582-462a-b705-a4d9b8d29094', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.TWO: 2>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.QUEEN: 12>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.DIAMONDS: 2>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': -2}, 'opponent': {'player_id': 'ff13d8f2-fa90-4641-9266-59aa9f5e11b9', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.SPADES: 3>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.HEARTS: 1>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': -5}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 1, 49, 37, 625806) game_id='a89600eb-2dd3-4361-8fc6-c1acd31d311e' target_players=['3e06cf7a-0582-462a-b705-a4d9b8d29094']
2025-03-30 21:49:37 - venv - INFO - broadcaster - broadcast_notification: Sending to player 3e06cf7a-0582-462a-b705-a4d9b8d29094
2025-03-30 21:49:37 - venv - INFO - WebSocketManager - send_to_player: a89600eb-2dd3-4361-8fc6-c1acd31d311e, 3e06cf7a-0582-462a-b705-a4d9b8d29094, {"type":"opponent_selecting","data":{"dice_result":0,"stock_price":11,"turn_number":1,"available_pairs":[{"small_card":{"suit":1,"rank":3,"card_type":1},"big_card":{"suit":1,"rank":13,"card_type":2}},{"small_card":{"suit":1,"rank":1,"card_type":1},"big_card":{"suit":1,"rank":10,"card_type":2}},{"small_card":{"suit":1,"rank":6,"card_type":1},"big_card":{"suit":1,"rank":8,"card_type":2}}],"first_selector":"ff13d8f2-fa90-4641-9266-59aa9f5e11b9","second_selector":"3e06cf7a-0582-462a-b705-a4d9b8d29094","dice_roller":"3e06cf7a-0582-462a-b705-a4d9b8d29094","current_player":{"player_id":"3e06cf7a-0582-462a-b705-a4d9b8d29094","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":1,"rank":2,"card_type":1},"big_card":{"suit":1,"rank":12,"card_type":2}},"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":2,"rank":7,"card_type":3}]},"has_selected":false,"current_score":-2},"opponent":{"player_id":"ff13d8f2-fa90-4641-9266-59aa9f5e11b9","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":3,"rank":7,"card_type":3},{"suit":1,"rank":7,"card_type":3}]},"has_selected":false,"current_score":-5},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T01:49:37.625806","game_id":"a89600eb-2dd3-4361-8fc6-c1acd31d311e","target_players":["3e06cf7a-0582-462a-b705-a4d9b8d29094"]}
2025-03-30 21:49:37 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 21:49:37 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player ff13d8f2-fa90-4641-9266-59aa9f5e11b9
2025-03-30 21:49:37 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 3e06cf7a-0582-462a-b705-a4d9b8d29094
2025-03-30 21:49:37 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 3e06cf7a-0582-462a-b705-a4d9b8d29094
2025-03-30 22:06:33 - watchfiles.main - INFO - 6 changes detected
2025-03-30 22:06:33 - venv - INFO - WebSocketManager - disconnect: Removed connection for game a89600eb-2dd3-4361-8fc6-c1acd31d311e
2025-03-30 22:06:33 - venv - INFO - WebSocketManager - disconnect: Removed connection for game a89600eb-2dd3-4361-8fc6-c1acd31d311e
2025-03-30 22:06:34 - watchfiles.main - INFO - 1 change detected
2025-03-30 22:20:33 - watchfiles.main - INFO - 1 change detected
2025-03-30 22:20:33 - watchfiles.main - INFO - 3 changes detected
2025-03-30 22:22:28 - venv - INFO - WebSocketManager - connect: Added connection for game 7d495ee8-9324-47e6-ba85-2d5d23f855d7
2025-03-30 22:22:34 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED: 'game_started'> data={} timestamp=datetime.datetime(2025, 3, 31, 2, 22, 34, 835062) game_id='7d495ee8-9324-47e6-ba85-2d5d23f855d7' target_players=['cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe']
2025-03-30 22:22:34 - venv - INFO - broadcaster - broadcast_notification: Sending to player cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe
2025-03-30 22:22:34 - venv - INFO - WebSocketManager - send_to_player: 7d495ee8-9324-47e6-ba85-2d5d23f855d7, cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe, {"type":"game_started","data":{},"timestamp":"2025-03-31T02:22:34.835062","game_id":"7d495ee8-9324-47e6-ba85-2d5d23f855d7","target_players":["cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe"]}
2025-03-30 22:22:34 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 22:22:34 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 8b8cecfc-17dd-4540-acd3-85d72b2b08f2
2025-03-30 22:22:34 - venv - WARNING - WebSocketManager - send_to_player: No connection found for player cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe
2025-03-30 22:22:34 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.GAME_STARTED_INITIAL: 'game_started_initial'> data={} timestamp=datetime.datetime(2025, 3, 31, 2, 22, 34, 837499) game_id='7d495ee8-9324-47e6-ba85-2d5d23f855d7' target_players=['8b8cecfc-17dd-4540-acd3-85d72b2b08f2']
2025-03-30 22:22:34 - venv - INFO - broadcaster - broadcast_notification: Sending to player 8b8cecfc-17dd-4540-acd3-85d72b2b08f2
2025-03-30 22:22:34 - venv - INFO - WebSocketManager - send_to_player: 7d495ee8-9324-47e6-ba85-2d5d23f855d7, 8b8cecfc-17dd-4540-acd3-85d72b2b08f2, {"type":"game_started_initial","data":{},"timestamp":"2025-03-31T02:22:34.837499","game_id":"7d495ee8-9324-47e6-ba85-2d5d23f855d7","target_players":["8b8cecfc-17dd-4540-acd3-85d72b2b08f2"]}
2025-03-30 22:22:34 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 22:22:34 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 8b8cecfc-17dd-4540-acd3-85d72b2b08f2
2025-03-30 22:22:34 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 8b8cecfc-17dd-4540-acd3-85d72b2b08f2
2025-03-30 22:22:34 - venv - INFO - WebSocketManager - connect: Added connection for game 7d495ee8-9324-47e6-ba85-2d5d23f855d7
2025-03-30 22:26:46 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.PLAYER_SELECTING: 'player_selecting'> data={'dice_result': 0, 'stock_price': 10, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.SIX: 6>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.NINE: 9>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.EIGHT: 8>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': '8b8cecfc-17dd-4540-acd3-85d72b2b08f2', 'second_selector': 'cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe', 'dice_roller': 'cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe', 'current_player': {'player_id': '8b8cecfc-17dd-4540-acd3-85d72b2b08f2', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.FIVE: 5>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.TEN: 10>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 'diamond'>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': -5}, 'opponent': {'player_id': 'cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 'diamond'>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': -1}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 2, 26, 46, 315336) game_id='7d495ee8-9324-47e6-ba85-2d5d23f855d7' target_players=['8b8cecfc-17dd-4540-acd3-85d72b2b08f2']
2025-03-30 22:26:46 - venv - INFO - broadcaster - broadcast_notification: Sending to player 8b8cecfc-17dd-4540-acd3-85d72b2b08f2
2025-03-30 22:26:46 - venv - INFO - WebSocketManager - send_to_player: 7d495ee8-9324-47e6-ba85-2d5d23f855d7, 8b8cecfc-17dd-4540-acd3-85d72b2b08f2, {"type":"player_selecting","data":{"dice_result":0,"stock_price":10,"turn_number":1,"available_pairs":[{"small_card":{"suit":"heart","rank":3,"card_type":1},"big_card":{"suit":"heart","rank":11,"card_type":2}},{"small_card":{"suit":"heart","rank":6,"card_type":1},"big_card":{"suit":"heart","rank":9,"card_type":2}},{"small_card":{"suit":"heart","rank":4,"card_type":1},"big_card":{"suit":"heart","rank":8,"card_type":2}}],"first_selector":"8b8cecfc-17dd-4540-acd3-85d72b2b08f2","second_selector":"cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe","dice_roller":"cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe","current_player":{"player_id":"8b8cecfc-17dd-4540-acd3-85d72b2b08f2","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":"heart","rank":5,"card_type":1},"big_card":{"suit":"heart","rank":10,"card_type":2}},"seven_cards":[{"suit":"diamond","rank":7,"card_type":3},{"suit":"heart","rank":7,"card_type":3}]},"has_selected":false,"current_score":-5},"opponent":{"player_id":"cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":"diamond","rank":7,"card_type":3},{"suit":"heart","rank":7,"card_type":3}]},"has_selected":false,"current_score":-1},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T02:26:46.315336","game_id":"7d495ee8-9324-47e6-ba85-2d5d23f855d7","target_players":["8b8cecfc-17dd-4540-acd3-85d72b2b08f2"]}
2025-03-30 22:26:46 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 22:26:46 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 8b8cecfc-17dd-4540-acd3-85d72b2b08f2
2025-03-30 22:26:46 - venv - INFO - WebSocketManager - send_to_player: Sent message to player 8b8cecfc-17dd-4540-acd3-85d72b2b08f2
2025-03-30 22:26:46 - venv - INFO - broadcaster - broadcast_notification: type=<NotificationType.OPPONENT_SELECTING: 'opponent_selecting'> data={'dice_result': 0, 'stock_price': 10, 'turn_number': 1, 'available_pairs': [{'small_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.THREE: 3>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.JACK: 11>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.SIX: 6>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.NINE: 9>, 'card_type': <CardType.BIG: 2>}}, {'small_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.FOUR: 4>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.EIGHT: 8>, 'card_type': <CardType.BIG: 2>}}], 'first_selector': '8b8cecfc-17dd-4540-acd3-85d72b2b08f2', 'second_selector': 'cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe', 'dice_roller': 'cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe', 'current_player': {'player_id': 'cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe', 'portfolio': {'regular_pairs': [], 'hidden_pair': {'small_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.ACE: 1>, 'card_type': <CardType.SMALL: 1>}, 'big_card': {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.KING: 13>, 'card_type': <CardType.BIG: 2>}}, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 'diamond'>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': -1}, 'opponent': {'player_id': '8b8cecfc-17dd-4540-acd3-85d72b2b08f2', 'portfolio': {'regular_pairs': [], 'hidden_pair': None, 'seven_cards': [{'suit': <CardSuit.DIAMONDS: 'diamond'>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}, {'suit': <CardSuit.HEARTS: 'heart'>, 'rank': <CardRank.SEVEN: 7>, 'card_type': <CardType.SPECIAL: 3>}]}, 'has_selected': False, 'current_score': -5}, 'current_phase': <GamePhase.TURN_SELECT_FIRST: 'turn_select_first'>, 'selected_pairs': []} timestamp=datetime.datetime(2025, 3, 31, 2, 26, 46, 321211) game_id='7d495ee8-9324-47e6-ba85-2d5d23f855d7' target_players=['cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe']
2025-03-30 22:26:46 - venv - INFO - broadcaster - broadcast_notification: Sending to player cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe
2025-03-30 22:26:46 - venv - INFO - WebSocketManager - send_to_player: 7d495ee8-9324-47e6-ba85-2d5d23f855d7, cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe, {"type":"opponent_selecting","data":{"dice_result":0,"stock_price":10,"turn_number":1,"available_pairs":[{"small_card":{"suit":"heart","rank":3,"card_type":1},"big_card":{"suit":"heart","rank":11,"card_type":2}},{"small_card":{"suit":"heart","rank":6,"card_type":1},"big_card":{"suit":"heart","rank":9,"card_type":2}},{"small_card":{"suit":"heart","rank":4,"card_type":1},"big_card":{"suit":"heart","rank":8,"card_type":2}}],"first_selector":"8b8cecfc-17dd-4540-acd3-85d72b2b08f2","second_selector":"cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe","dice_roller":"cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe","current_player":{"player_id":"cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe","portfolio":{"regular_pairs":[],"hidden_pair":{"small_card":{"suit":"heart","rank":1,"card_type":1},"big_card":{"suit":"heart","rank":13,"card_type":2}},"seven_cards":[{"suit":"diamond","rank":7,"card_type":3},{"suit":"heart","rank":7,"card_type":3}]},"has_selected":false,"current_score":-1},"opponent":{"player_id":"8b8cecfc-17dd-4540-acd3-85d72b2b08f2","portfolio":{"regular_pairs":[],"hidden_pair":null,"seven_cards":[{"suit":"diamond","rank":7,"card_type":3},{"suit":"heart","rank":7,"card_type":3}]},"has_selected":false,"current_score":-5},"current_phase":"turn_select_first","selected_pairs":[]},"timestamp":"2025-03-31T02:26:46.321211","game_id":"7d495ee8-9324-47e6-ba85-2d5d23f855d7","target_players":["cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe"]}
2025-03-30 22:26:46 - venv - INFO - WebSocketManager - send_to_player: Active connections found
2025-03-30 22:26:46 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player 8b8cecfc-17dd-4540-acd3-85d72b2b08f2
2025-03-30 22:26:46 - venv - INFO - WebSocketManager - send_to_player: Checking connection for player cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe
2025-03-30 22:26:46 - venv - INFO - WebSocketManager - send_to_player: Sent message to player cfa5ff86-bca8-4cee-947f-d9d6c6d88ffe
2025-03-30 22:33:58 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 7d495ee8-9324-47e6-ba85-2d5d23f855d7
2025-03-30 22:34:33 - venv - INFO - WebSocketManager - disconnect: Removed connection for game 7d495ee8-9324-47e6-ba85-2d5d23f855d7
2025-03-30 22:46:38 - watchfiles.main - INFO - 3 changes detected
2025-03-30 22:46:43 - watchfiles.main - INFO - 1 change detected
2025-03-30 22:46:43 - watchfiles.main - INFO - 3 changes detected
